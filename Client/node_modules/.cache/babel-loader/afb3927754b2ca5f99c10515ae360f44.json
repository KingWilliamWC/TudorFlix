{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/willi/OneDrive/Documents/Projects/tudorflix/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/willi/OneDrive/Documents/Projects/tudorflix/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"C:/Users/willi/OneDrive/Documents/Projects/tudorflix/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/willi/OneDrive/Documents/Projects/tudorflix/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"C:/Users/willi/OneDrive/Documents/Projects/tudorflix/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/willi/OneDrive/Documents/Projects/tudorflix/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import axios from'axios';import'./MoviesHome.css';import StarSVG from\"../SVG/Star-Solid.svg\";import HeartSVG from\"../SVG/Heart-Solid.svg\";import PlaySVG from\"../SVG/Play-Solid.svg\";import CircleSVG from\"../SVG/Circle-Solid.svg\";import MoviesRow from'../MoviesRow.js';import MovieSlideUp from'../MovieFullTab';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var MoviesHome=/*#__PURE__*/function(_Component){_inherits(MoviesHome,_Component);var _super=_createSuper(MoviesHome);function MoviesHome(props){var _this;_classCallCheck(this,MoviesHome);_this=_super.call(this,props);_this.callbackAfterRequest=function(){return _this.state.Trending?_this.state.Trending:'';};_this.handleMovieClick=function(movieID){if(movieID!=='none'){_this.getMovieInfo(movieID);}else{if(_this.state.isOpen===0){_this.setState({isOpen:1});}else{_this.setState({isOpen:0});}}};_this.state={data:null,FeaturedMovie:'',SideMovies:['',''],Trending:null,slideUpClass:['movieFullTabContainer','movieFullTabContainerClosed'],isOpen:0,allowRender:true,currentMovieData:null};_this.functions={requestTrending:_this.callbackAfterRequest()};return _this;}_createClass(MoviesHome,[{key:\"componentWillMount\",value:function componentWillMount(){this.requestData();}},{key:\"componentDidMount\",value:function componentDidMount(){this.setState({allowRender:false});}},{key:\"requestData\",value:function(){var _requestData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _this2=this;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:console.log(JSON.parse(localStorage.getItem('username')).genres);_context.next=3;return axios.post(this.props.routes.moviehome,{genres:JSON.parse(localStorage.getItem('username')).genres}).then(function(res){var data=res.data;console.log(data);_this2.setState({FeaturedMovie:data.data[0].results[0],SideMovies:[data.data[0].results[1],data.data[0].results[2]],ForYou:data.data[2].results,Trending:data.data[1].results});});case 3:case\"end\":return _context.stop();}}},_callee,this);}));function requestData(){return _requestData.apply(this,arguments);}return requestData;}()},{key:\"getMovieInfo\",value:function(){var _getMovieInfo=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(movieID){var _this3=this;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return axios.get(\"\".concat(this.props.routes.movie,\"id=\").concat(movieID)).then(function(res){var statetoset=0;if(_this3.state.isOpen===0){statetoset=1;}_this3.setState({currentMovieData:res.data,isOpen:statetoset});return res;});case 2:case\"end\":return _context2.stop();}}},_callee2,this);}));function getMovieInfo(_x){return _getMovieInfo.apply(this,arguments);}return getMovieInfo;}()},{key:\"render\",value:function render(){var _this4=this;return/*#__PURE__*/_jsxs(\"div\",{id:\"moviesContainer\",children:[/*#__PURE__*/_jsxs(\"div\",{id:\"featuredContainer\",children:[/*#__PURE__*/_jsx(\"p\",{id:\"featuredTitle\",children:\"Featured\"}),/*#__PURE__*/_jsxs(\"div\",{id:\"featuredMoviesContainer\",children:[/*#__PURE__*/_jsxs(\"div\",{id:\"featuredMovie\",children:[/*#__PURE__*/_jsx(\"div\",{id:\"featuredMovieImageContainer\",children:this.state.FeaturedMovie?/*#__PURE__*/_jsx(\"img\",{id:\"featuredMovieImage\",alt:\"\",src:\"https://image.tmdb.org/t/p/w1280/\".concat(this.state.FeaturedMovie.backdrop_path)}):''}),/*#__PURE__*/_jsxs(\"div\",{id:\"featuredMovieDescriptionContainer\",children:[/*#__PURE__*/_jsxs(\"div\",{id:\"FeaturedContent\",children:[this.state.FeaturedMovie?/*#__PURE__*/_jsx(\"p\",{id:\"featuredMovieTitle\",children:this.state.FeaturedMovie.title}):'',/*#__PURE__*/_jsxs(\"div\",{id:\"feauturedMovieMetricsContainer\",children:[this.state.FeaturedMovie?/*#__PURE__*/_jsx(\"p\",{children:\"Science Fiction\"}):'',/*#__PURE__*/_jsx(\"div\",{id:\"featuredSeperator\"}),this.state.FeaturedMovie?/*#__PURE__*/_jsx(\"p\",{children:this.state.FeaturedMovie.release_date.substring(0,4)}):'',/*#__PURE__*/_jsx(\"div\",{id:\"featuredSeperator\"}),/*#__PURE__*/_jsx(\"p\",{children:\"2h 21m\"}),/*#__PURE__*/_jsx(\"div\",{id:\"featuredSeperator\"}),/*#__PURE__*/_jsx(\"img\",{id:\"featuredStarIcon\",alt:\"\",src:StarSVG}),this.state.FeaturedMovie?/*#__PURE__*/_jsx(\"p\",{children:this.state.FeaturedMovie.vote_average}):'']})]}),/*#__PURE__*/_jsxs(\"div\",{id:\"bottomDescription\",children:[/*#__PURE__*/_jsx(\"div\",{id:\"FeaturedMovieDescriptionContainer\",children:this.state.FeaturedMovie?/*#__PURE__*/_jsx(\"p\",{id:\"FeaturedMovieDescription\",children:this.state.FeaturedMovie.overview}):''}),/*#__PURE__*/_jsxs(\"div\",{id:\"featuredButtonsContainer\",children:[/*#__PURE__*/_jsx(\"div\",{id:\"featuredLikeButton\",children:/*#__PURE__*/_jsx(\"img\",{alt:\"\",src:HeartSVG})}),/*#__PURE__*/_jsxs(\"div\",{id:\"featuredWatchButton\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Watch\"}),/*#__PURE__*/_jsx(\"img\",{alt:\"\",src:PlaySVG})]})]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{id:\"sideFeaturedMovies\",children:[/*#__PURE__*/_jsxs(\"div\",{onClick:function onClick(){return _this4.handleMovieClick(_this4.state.SideMovies[0].id);},className:\"sideFeaturedMovie\",children:[this.state.SideMovies[0]?/*#__PURE__*/_jsx(\"img\",{className:\"sideFeaturedMovieImg\",alt:\"\",src:\"https://image.tmdb.org/t/p/w1280/\".concat(this.state.SideMovies[0].backdrop_path)}):'',/*#__PURE__*/_jsx(\"div\",{className:\"SideFeatureMovieOverlayContainer\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"SideFeatureMovieOverlayContainerContent\",children:[this.state.SideMovies[0]?/*#__PURE__*/_jsx(\"p\",{className:\"SideFeaturedMovieTitle\",children:this.state.SideMovies[0].title}):'',/*#__PURE__*/_jsxs(\"div\",{className:\"sideGenreContainer\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Adventure\"}),/*#__PURE__*/_jsx(\"img\",{alt:\"\",className:\"seperator-side\",src:CircleSVG}),/*#__PURE__*/_jsx(\"p\",{children:\"Crime\"})]}),/*#__PURE__*/_jsx(\"p\",{children:\"15\"})]})})]}),/*#__PURE__*/_jsxs(\"div\",{onClick:function onClick(){return _this4.handleMovieClick(_this4.state.SideMovies[1].id);},className:\"sideFeaturedMovie\",children:[this.state.SideMovies[1]?/*#__PURE__*/_jsx(\"img\",{className:\"sideFeaturedMovieImg\",alt:\"\",src:\"https://image.tmdb.org/t/p/w1280/\".concat(this.state.SideMovies[1].backdrop_path)}):'',/*#__PURE__*/_jsx(\"div\",{className:\"SideFeatureMovieOverlayContainer\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"SideFeatureMovieOverlayContainerContent\",children:[this.state.SideMovies[1]?/*#__PURE__*/_jsx(\"p\",{className:\"SideFeaturedMovieTitle\",children:this.state.SideMovies[1].title}):'',/*#__PURE__*/_jsxs(\"div\",{className:\"sideGenreContainer\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Adventure\"}),/*#__PURE__*/_jsx(\"img\",{alt:\"\",className:\"seperator-side\",src:CircleSVG}),/*#__PURE__*/_jsx(\"p\",{children:\"Crime\"})]}),/*#__PURE__*/_jsx(\"p\",{children:\"15\"})]})})]})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"rowsContainer\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"rowContent\",children:[this.state.Trending!=null?/*#__PURE__*/_jsx(MoviesRow,{clickHandler:this.handleMovieClick,name:'For You',index:0,movies:this.state.ForYou}):'',this.state.Trending!=null?/*#__PURE__*/_jsx(MoviesRow,{clickHandler:this.handleMovieClick,name:'Trending',index:1,movies:this.state.Trending}):'']})}),this.state.isOpen?/*#__PURE__*/_jsx(MovieSlideUp,{routes:this.props.routes,data:this.state.currentMovieData.data[0],favouritesHandler:this.handleFavouritesClick,clickHandler:this.handleMovieClick,slideupClass:this.state.slideUpClass[this.state.isOpen]}):'']});}}]);return MoviesHome;}(Component);export default MoviesHome;","map":{"version":3,"sources":["C:/Users/willi/OneDrive/Documents/Projects/tudorflix/Client/src/Components/MoviesHome.js"],"names":["React","Component","axios","MoviesRow","MovieSlideUp","MoviesHome","props","callbackAfterRequest","state","Trending","handleMovieClick","movieID","getMovieInfo","isOpen","setState","data","FeaturedMovie","SideMovies","slideUpClass","allowRender","currentMovieData","functions","requestTrending","requestData","console","log","JSON","parse","localStorage","getItem","genres","post","routes","moviehome","then","res","results","ForYou","get","movie","statetoset","backdrop_path","title","release_date","substring","StarSVG","vote_average","overview","HeartSVG","PlaySVG","id","CircleSVG","handleFavouritesClick"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport axios from 'axios';\r\n\r\nimport './MoviesHome.css';\r\n\r\nimport StarSVG from '../SVG/Star-Solid.svg';\r\nimport HeartSVG from '../SVG/Heart-Solid.svg';\r\nimport PlaySVG from '../SVG/Play-Solid.svg';\r\nimport CircleSVG from '../SVG/Circle-Solid.svg';\r\n\r\nimport MoviesRow from '../MoviesRow.js';\r\nimport MovieSlideUp from '../MovieFullTab';\r\n\r\nclass MoviesHome extends Component {\r\n    constructor(props){\r\n        super(props)\r\n        this.state = {\r\n            data: null,\r\n            FeaturedMovie: '',\r\n            SideMovies: ['', ''],\r\n            Trending: null,\r\n            slideUpClass: ['movieFullTabContainer', 'movieFullTabContainerClosed'],\r\n            isOpen: 0,\r\n            allowRender: true,\r\n            currentMovieData: null,\r\n        };\r\n\r\n        this.functions = {\r\n            requestTrending: this.callbackAfterRequest(),\r\n        }\r\n    }\r\n    componentWillMount() {\r\n        this.requestData();\r\n    }\r\n    \r\n    componentDidMount() {\r\n        this.setState({allowRender: false});\r\n    }\r\n\r\n    callbackAfterRequest = () => {\r\n        \r\n        return(this.state.Trending ? this.state.Trending : '')\r\n    }\r\n\r\n    async requestData(){\r\n        console.log(JSON.parse((localStorage.getItem('username'))).genres);\r\n        await axios.post(this.props.routes.moviehome, {genres: JSON.parse((localStorage.getItem('username'))).genres})\r\n            .then(res => {\r\n                const data = res.data;\r\n                console.log(data);\r\n                this.setState({\r\n                    FeaturedMovie: data.data[0].results[0],\r\n                    SideMovies: [data.data[0].results[1], data.data[0].results[2]],\r\n                    ForYou: data.data[2].results,\r\n                    Trending: data.data[1].results\r\n                })\r\n            })\r\n    }\r\n\r\n    async getMovieInfo(movieID){\r\n        await axios.get(`${this.props.routes.movie}id=${movieID}`)\r\n            .then(res => {\r\n                var statetoset = 0;\r\n                if(this.state.isOpen === 0){\r\n                    statetoset = 1;\r\n                }\r\n                this.setState({currentMovieData: res.data, isOpen: statetoset});\r\n                return res;\r\n            })\r\n    }\r\n\r\n    handleMovieClick = (movieID) => {\r\n        if(movieID !== 'none'){\r\n            this.getMovieInfo(movieID)\r\n        }else{\r\n            if(this.state.isOpen === 0){\r\n                this.setState({isOpen: 1});\r\n            }else{\r\n                this.setState({isOpen: 0});\r\n            }\r\n        }\r\n    }\r\n    render(){\r\n        return(\r\n            <div id='moviesContainer'>\r\n                <div id='featuredContainer'>\r\n                    <p id='featuredTitle'>Featured</p>\r\n                    <div id='featuredMoviesContainer'>\r\n                        <div id='featuredMovie'>\r\n                            <div id='featuredMovieImageContainer'>\r\n                                {this.state.FeaturedMovie ? <img id='featuredMovieImage' alt='' src={`https://image.tmdb.org/t/p/w1280/${this.state.FeaturedMovie.backdrop_path}`}></img> : ''}\r\n                            </div>\r\n                            <div id='featuredMovieDescriptionContainer'>\r\n                                <div id='FeaturedContent'>\r\n                                    {this.state.FeaturedMovie ? <p id='featuredMovieTitle'>{this.state.FeaturedMovie.title}</p> : ''}\r\n                                    <div id='feauturedMovieMetricsContainer'>\r\n                                        {this.state.FeaturedMovie ? <p>Science Fiction</p> : ''}\r\n                                        <div id='featuredSeperator'></div>\r\n                                        {this.state.FeaturedMovie ? <p>{this.state.FeaturedMovie.release_date.substring(0,4)}</p> : ''}\r\n                                        <div id='featuredSeperator'></div>\r\n                                        <p>2h 21m</p>\r\n                                        <div id='featuredSeperator'></div>\r\n                                        <img id='featuredStarIcon' alt='' src={StarSVG}></img>\r\n                                        {this.state.FeaturedMovie ? <p>{this.state.FeaturedMovie.vote_average}</p> : ''}\r\n                                    </div>\r\n                                </div>\r\n                                <div id='bottomDescription'>\r\n                                    <div id='FeaturedMovieDescriptionContainer'>\r\n                                        {/* <p id='FeaturedMovieDescription'>The adventures of a group of explorers who make use of a newly discovered wormhole\r\n                                        to surpass the limitations on human space travel and conquer the vast distances\r\n                                        involved in an interstellar voyage\r\n                                        </p> */}\r\n                                        {this.state.FeaturedMovie ? <p id='FeaturedMovieDescription'>{this.state.FeaturedMovie.overview}</p> : ''}\r\n                                    </div>\r\n                                    <div id='featuredButtonsContainer'>\r\n                                        <div id='featuredLikeButton'>\r\n                                            <img alt='' src={HeartSVG}></img>\r\n                                        </div>\r\n                                        <div id='featuredWatchButton'>\r\n                                            <p>Watch</p>\r\n                                            <img alt='' src={PlaySVG}></img>\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div id='sideFeaturedMovies'>\r\n                            <div onClick={() => this.handleMovieClick(this.state.SideMovies[0].id)} className='sideFeaturedMovie'>\r\n                                {this.state.SideMovies[0] ? <img className='sideFeaturedMovieImg' alt='' src={`https://image.tmdb.org/t/p/w1280/${this.state.SideMovies[0].backdrop_path}`}></img> : ''} \r\n                                <div className='SideFeatureMovieOverlayContainer'>\r\n                                    <div className='SideFeatureMovieOverlayContainerContent'>\r\n                                        {this.state.SideMovies[0] ? <p className='SideFeaturedMovieTitle'>{this.state.SideMovies[0].title}</p> : ''}\r\n                                        <div className='sideGenreContainer'>\r\n                                            <p>Adventure</p>\r\n                                            <img alt='' className='seperator-side' src={CircleSVG}></img>\r\n                                            <p>Crime</p>\r\n                                        </div>\r\n                                        <p>15</p>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div onClick={() => this.handleMovieClick(this.state.SideMovies[1].id)} className='sideFeaturedMovie'>\r\n                                {this.state.SideMovies[1] ? <img className='sideFeaturedMovieImg' alt='' src={`https://image.tmdb.org/t/p/w1280/${this.state.SideMovies[1].backdrop_path}`}></img> : ''}\r\n                                <div className='SideFeatureMovieOverlayContainer'>\r\n                                    <div className='SideFeatureMovieOverlayContainerContent'>\r\n                                        {this.state.SideMovies[1] ? <p className='SideFeaturedMovieTitle'>{this.state.SideMovies[1].title}</p> : ''}\r\n                                        <div className='sideGenreContainer'>\r\n                                            <p>Adventure</p>\r\n                                            <img alt='' className='seperator-side' src={CircleSVG}></img>\r\n                                            <p>Crime</p>\r\n                                        </div>\r\n                                        <p>15</p>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className='rowsContainer'>\r\n                    <div className='rowContent'>\r\n                        {this.state.Trending != null ? <MoviesRow clickHandler={this.handleMovieClick} name={'For You'} index={0} movies={this.state.ForYou}/> : ''}\r\n                        {this.state.Trending != null ? <MoviesRow clickHandler={this.handleMovieClick} name={'Trending'} index={1} movies={this.state.Trending}/> : ''}\r\n                    </div>\r\n                </div>\r\n                {this.state.isOpen ? <MovieSlideUp routes={this.props.routes} data={this.state.currentMovieData.data[0]} favouritesHandler={this.handleFavouritesClick} clickHandler={this.handleMovieClick} slideupClass={this.state.slideUpClass[this.state.isOpen]}/> : ''}\r\n                \r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default MoviesHome;"]},"metadata":{},"sourceType":"module"}