{"ast":null,"code":"import _regeneratorRuntime from\"/home/william/Documents/Projects/TudorFlix/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/william/Documents/Projects/TudorFlix/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/home/william/Documents/Projects/TudorFlix/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/william/Documents/Projects/TudorFlix/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/william/Documents/Projects/TudorFlix/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/william/Documents/Projects/TudorFlix/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import axios from'axios';import'./Favourites.css';import MoviesRowFull from'./MoviesRowFull';import MovieSlideUp from'../MovieFullTab';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Favourites=/*#__PURE__*/function(_Component){_inherits(Favourites,_Component);var _super=_createSuper(Favourites);function Favourites(props){var _this;_classCallCheck(this,Favourites);_this=_super.call(this,props);_this.handleMovieClick=function(movieID){console.log(movieID);if(movieID!=='none'){_this.getMovieInfo(movieID);}else{if(_this.state.isOpen===0){_this.setState({isOpen:1});// if by some magic the user has done this\n}else{_this.setState({isOpen:0});_this.forceUpdate();}}};_this.state={favourites:[],gotFavourites:false,slideUpClass:['movieFullTabContainer','movieFullTabContainerClosed'],isOpen:0};return _this;}_createClass(Favourites,[{key:\"componentDidMount\",value:function componentDidMount(){this.setState({favourites:JSON.parse(localStorage.getItem('username')).favourites});console.log('mount');}},{key:\"getMovieInfo\",value:function(){var _getMovieInfo=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(movieID){var _this2=this;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(\"\".concat(this.props.routes.movie,\"id=\").concat(movieID)).then(function(res){var statetoset=0;if(_this2.state.isOpen===0){statetoset=1;}_this2.setState({currentMovieData:res.data,isOpen:statetoset});return res;});case 2:case\"end\":return _context.stop();}}},_callee,this);}));function getMovieInfo(_x){return _getMovieInfo.apply(this,arguments);}return getMovieInfo;}()},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"div\",{id:\"FavouritesTab\",children:[/*#__PURE__*/_jsx(\"p\",{id:\"favouritesTitle\",children:\"Favourites\"}),JSON.parse(localStorage.getItem('username')).favourites.length===0?/*#__PURE__*/_jsx(\"p\",{id:\"nullMoviesTitle\",children:\"Hmmmm... Seems There Are No Movies Here Currently\"}):/*#__PURE__*/_jsx(MoviesRowFull,{clickHandler:this.handleMovieClick,favourites:JSON.parse(localStorage.getItem('username')).favourites}),this.state.isOpen?/*#__PURE__*/_jsx(MovieSlideUp,{routes:this.props.routes,data:this.state.currentMovieData.data[0],favouritesHandler:this.handleFavouritesClick,clickHandler:this.handleMovieClick,slideupClass:this.state.slideUpClass[this.state.isOpen]}):'']});}}]);return Favourites;}(Component);export default Favourites;","map":{"version":3,"sources":["/home/william/Documents/Projects/TudorFlix/Client/src/Components/Favourites.js"],"names":["React","Component","axios","MoviesRowFull","MovieSlideUp","Favourites","props","handleMovieClick","movieID","console","log","getMovieInfo","state","isOpen","setState","forceUpdate","favourites","gotFavourites","slideUpClass","JSON","parse","localStorage","getItem","get","routes","movie","then","res","statetoset","currentMovieData","data","length","handleFavouritesClick"],"mappings":"69BAAA,MAAOA,CAAAA,KAAP,EAAeC,SAAf,KAA+B,OAA/B,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CAEA,MAAO,kBAAP,CAEA,MAAOC,CAAAA,aAAP,KAA0B,iBAA1B,CACA,MAAOC,CAAAA,YAAP,KAAyB,iBAAzB,C,2FAEMC,CAAAA,U,wGACF,oBAAYC,KAAZ,CAAkB,4CACd,uBAAMA,KAAN,EADc,MA0BlBC,gBA1BkB,CA0BC,SAACC,OAAD,CAAa,CAC5BC,OAAO,CAACC,GAAR,CAAYF,OAAZ,EACA,GAAGA,OAAO,GAAK,MAAf,CAAsB,CAClB,MAAKG,YAAL,CAAkBH,OAAlB,EACH,CAFD,IAEK,CACD,GAAG,MAAKI,KAAL,CAAWC,MAAX,GAAsB,CAAzB,CAA2B,CACvB,MAAKC,QAAL,CAAc,CAACD,MAAM,CAAE,CAAT,CAAd,EAA4B;AAC/B,CAFD,IAEK,CACD,MAAKC,QAAL,CAAc,CAACD,MAAM,CAAE,CAAT,CAAd,EACA,MAAKE,WAAL,GACH,CACJ,CACJ,CAtCiB,CAEd,MAAKH,KAAL,CAAa,CACTI,UAAU,CAAE,EADH,CAETC,aAAa,CAAE,KAFN,CAGTC,YAAY,CAAE,CAAC,uBAAD,CAA0B,6BAA1B,CAHL,CAITL,MAAM,CAAE,CAJC,CAAb,CAFc,aAQjB,C,wDACD,4BAAmB,CACf,KAAKC,QAAL,CAAc,CAACE,UAAU,CAAEG,IAAI,CAACC,KAAL,CAAYC,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAZ,EAA+CN,UAA5D,CAAd,EACAP,OAAO,CAACC,GAAR,CAAY,OAAZ,EACH,C,iHAED,iBAAmBF,OAAnB,wJACUN,CAAAA,KAAK,CAACqB,GAAN,WAAa,KAAKjB,KAAL,CAAWkB,MAAX,CAAkBC,KAA/B,eAA0CjB,OAA1C,GACDkB,IADC,CACI,SAAAC,GAAG,CAAI,CACT,GAAIC,CAAAA,UAAU,CAAG,CAAjB,CACA,GAAG,MAAI,CAAChB,KAAL,CAAWC,MAAX,GAAsB,CAAzB,CAA2B,CACvBe,UAAU,CAAG,CAAb,CACH,CACD,MAAI,CAACd,QAAL,CAAc,CAACe,gBAAgB,CAAEF,GAAG,CAACG,IAAvB,CAA6BjB,MAAM,CAAEe,UAArC,CAAd,EACA,MAAOD,CAAAA,GAAP,CACH,CARC,CADV,4D,sHA0BA,iBAAQ,CACJ,mBACI,aAAK,EAAE,CAAC,eAAR,wBACI,UAAG,EAAE,CAAC,iBAAN,wBADJ,CAEKR,IAAI,CAACC,KAAL,CAAYC,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAZ,EAA+CN,UAA/C,CAA0De,MAA1D,GAAqE,CAArE,cAAyE,UAAG,EAAE,CAAC,iBAAN,+DAAzE,cAAyJ,KAAC,aAAD,EAAe,YAAY,CAAE,KAAKxB,gBAAlC,CAAoD,UAAU,CAAEY,IAAI,CAACC,KAAL,CAAYC,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAZ,EAA+CN,UAA/G,EAF9J,CAGK,KAAKJ,KAAL,CAAWC,MAAX,cAAoB,KAAC,YAAD,EAAc,MAAM,CAAE,KAAKP,KAAL,CAAWkB,MAAjC,CAAyC,IAAI,CAAE,KAAKZ,KAAL,CAAWiB,gBAAX,CAA4BC,IAA5B,CAAiC,CAAjC,CAA/C,CAAoF,iBAAiB,CAAE,KAAKE,qBAA5G,CAAmI,YAAY,CAAE,KAAKzB,gBAAtJ,CAAwK,YAAY,CAAE,KAAKK,KAAL,CAAWM,YAAX,CAAwB,KAAKN,KAAL,CAAWC,MAAnC,CAAtL,EAApB,CAA0P,EAH/P,GADJ,CAOH,C,wBAjDoBZ,S,EAoDzB,cAAeI,CAAAA,UAAf","sourcesContent":["import React, {Component} from 'react';\nimport axios from 'axios';\n\nimport './Favourites.css';\n\nimport MoviesRowFull from './MoviesRowFull';\nimport MovieSlideUp from '../MovieFullTab';\n\nclass Favourites extends Component{\n    constructor(props){\n        super(props);\n        this.state = {\n            favourites: [],\n            gotFavourites: false,\n            slideUpClass: ['movieFullTabContainer', 'movieFullTabContainerClosed'],\n            isOpen: 0,\n        }\n    }\n    componentDidMount(){\n        this.setState({favourites: JSON.parse((localStorage.getItem('username'))).favourites});\n        console.log('mount');\n    }\n\n    async getMovieInfo(movieID){\n        await axios.get(`${this.props.routes.movie}id=${movieID}`)\n            .then(res => {\n                var statetoset = 0;\n                if(this.state.isOpen === 0){\n                    statetoset = 1;\n                }\n                this.setState({currentMovieData: res.data, isOpen: statetoset});\n                return res;\n            })\n    }\n    \n    handleMovieClick = (movieID) => {\n        console.log(movieID);\n        if(movieID !== 'none'){\n            this.getMovieInfo(movieID)\n        }else{\n            if(this.state.isOpen === 0){\n                this.setState({isOpen: 1}); // if by some magic the user has done this\n            }else{\n                this.setState({isOpen: 0});\n                this.forceUpdate();\n            }\n        }\n    }\n\n    render(){\n        return(\n            <div id='FavouritesTab'>\n                <p id='favouritesTitle'>Favourites</p>\n                {JSON.parse((localStorage.getItem('username'))).favourites.length === 0 ? <p id='nullMoviesTitle'>Hmmmm... Seems There Are No Movies Here Currently</p> : <MoviesRowFull clickHandler={this.handleMovieClick} favourites={JSON.parse((localStorage.getItem('username'))).favourites}/>}\n                {this.state.isOpen ? <MovieSlideUp routes={this.props.routes} data={this.state.currentMovieData.data[0]} favouritesHandler={this.handleFavouritesClick} clickHandler={this.handleMovieClick} slideupClass={this.state.slideUpClass[this.state.isOpen]}/> : ''}\n            </div>\n        )\n    }\n}\n\nexport default Favourites;"]},"metadata":{},"sourceType":"module"}