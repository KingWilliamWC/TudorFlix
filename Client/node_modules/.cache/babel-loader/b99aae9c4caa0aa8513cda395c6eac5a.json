{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/willi/OneDrive/Documents/Projects/tudorflix/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/willi/OneDrive/Documents/Projects/tudorflix/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"C:/Users/willi/OneDrive/Documents/Projects/tudorflix/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/willi/OneDrive/Documents/Projects/tudorflix/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"C:/Users/willi/OneDrive/Documents/Projects/tudorflix/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/willi/OneDrive/Documents/Projects/tudorflix/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import axios from'axios';import'./Settings.css';import UserImage from'../img/User-Profile.png';import EditSVG from\"../SVG/Edit-Solid.svg\";import ArrowSVG from\"../SVG/Arrow-Solid.svg\";import DramaSVG from\"../SVG/Drama-Solid.svg\";import AdventureSVG from\"../SVG/Adventure-Solid.svg\";import ComedySVG from\"../SVG/Comedy-Solid.svg\";import HorrorSVG from\"../SVG/Horror-Solid.svg\";import SciFiSVG from\"../SVG/SciFi-Solid.svg\";import ActionSVG from\"../SVG/Action-Solid.svg\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Settings=/*#__PURE__*/function(_Component){_inherits(Settings,_Component);var _super=_createSuper(Settings);function Settings(props){var _this;_classCallCheck(this,Settings);_this=_super.call(this,props);_this.userBlurField=function(index){var currentStates=_this.state.readOnlyStates;var currentInputStates=_this.state.InputStates;currentStates[index]=true;currentInputStates[index]=0;_this.setState({readOnlyStates:currentStates,InputStates:currentInputStates});};_this.userClickEdit=function(index){var currentStates=_this.state.readOnlyStates;var currentInputStates=_this.state.InputStates;if(currentInputStates[index]===0){currentInputStates[index]=1;}else{currentInputStates[index]=0;}if(currentStates[index]===true){currentStates[index]=false;}else{currentStates[index]=true;//user finished with editing\n}_this.setState({readOnlyStates:currentStates,InputStates:currentInputStates});};_this.userSubmitSurvey=function(){if(_this.state.currentSelectedGenres.length>=1){var genresToMap=[];console.log(_this.state.currentSelectedGenres);for(var i=0;i<_this.state.currentSelectedGenres.length;i++){for(var x=0;x<_this.state.genreMap.genres.length;x++){if(_this.state.genreMap.genres[x].id===_this.state.currentSelectedGenres[i]){genresToMap.push(_this.state.genreMap.genres[x].name);}}}console.log(genresToMap);_this.setState({genreSelectState:0,mainSettingsState:0,gennresMapped:genresToMap});}};_this.userEditGenres=function(){_this.setState({InfoState:0,genreSelectState:1,mainSettingsState:1});};_this.validateEmail=function(email){var re=/^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;// eslint-disable-line\nreturn re.test(email);};_this.userSave=function(){_this.setState({InfoState:0,InfoTitle:'',InfoMessage:''});// reset info table\nvar currentUser=JSON.parse(localStorage.getItem('username'));currentUser.username=document.getElementsByClassName('userSettingsProfileName')[0].value;if(currentUser.username.length<3){_this.setState({InfoState:1,InfoTitle:'Error',InfoMessage:'Please Set A Username longer than 3 characters'});return;}currentUser.includeadult=document.getElementById('userIncludeAdultBox').checked;currentUser.email=document.getElementsByClassName('settingsValueInput')[0].value;if(!_this.validateEmail(currentUser.email)){_this.setState({InfoState:1,InfoTitle:'Error',InfoMessage:'Please Enter a valid Email adress'});return;}currentUser.genres=_this.state.currentSelectedGenres;_this.setState({currentUser:currentUser});_this.sendUserSavedata(currentUser);};_this.state={genreMap:{\"genres\":[{\"id\":28,\"name\":\"Action\"},{\"id\":12,\"name\":\"Adventure\"},{\"id\":16,\"name\":\"Animation\"},{\"id\":35,\"name\":\"Comedy\"},{\"id\":80,\"name\":\"Crime\"},{\"id\":99,\"name\":\"Documentary\"},{\"id\":18,\"name\":\"Drama\"},{\"id\":10751,\"name\":\"Family\"},{\"id\":14,\"name\":\"Fantasy\"},{\"id\":36,\"name\":\"History\"},{\"id\":27,\"name\":\"Horror\"},{\"id\":10402,\"name\":\"Music\"},{\"id\":9648,\"name\":\"Mystery\"},{\"id\":10749,\"name\":\"Romance\"},{\"id\":878,\"name\":\"Science Fiction\"},{\"id\":10770,\"name\":\"TV Movie\"},{\"id\":53,\"name\":\"Thriller\"},{\"id\":10752,\"name\":\"War\"},{\"id\":37,\"name\":\"Western\"}]},surveyGenreIndex:[{'id':18},{'id':28},{'id':12},{'id':35},{'id':27},{'id':878}],currentUser:_this.props.user,gennresMapped:[],readOnlyStates:[true,true,true],genreClasses:[],currentSelectedGenres:[],genreSelectClass:['surveyContainerSettingsHide','surveyContainerSettingsHide surveyContainerSettingsShow'],genreSelectState:0,mainSettingsClass:['mainSettingsContainer','mainSettingsContainer mainSettingsContainerHide'],buttonSaveClass:['saveBtn','saveBtn saveBtnHide'],mainSettingsState:0,InputClasses:['settingsValue settingsValueInput','settingsValue settingsValueInput InputEdit'],UsernameInputClasses:['userSettingsProfileName','userSettingsProfileName userSettingsProfileNameEdit'],InputStates:[0,0],InfoClass:['InfoContainer','InfoContainer errorContainer','InfoContainer successContainer'],InfoState:0,InfoTitle:'',InfoMessage:''};return _this;}_createClass(Settings,[{key:\"componentDidMount\",value:function componentDidMount(){var genresToMap=[];console.log(this.state.surveyGenreIndex[0]);var genreStyleClassesToAdd=[];var currentGenreArray=this.state.currentSelectedGenres;for(var x=0;x<6;x++){genreStyleClassesToAdd.push('genreContainer');}for(var i=0;i<this.props.user.genres.length;i++){for(x=0;x<this.state.genreMap.genres.length;x++){if(this.state.genreMap.genres[x].id===this.props.user.genres[i]){genresToMap.push(this.state.genreMap.genres[x].name);}}for(var j=0;j<this.state.surveyGenreIndex.length;j++){if(this.props.user.genres[i]===this.state.surveyGenreIndex[j].id){genreStyleClassesToAdd[j]='genreContainer genreSelected';currentGenreArray.push(this.state.surveyGenreIndex[j].id);}}}console.log(currentGenreArray);document.getElementsByClassName('userSettingsProfileName')[0].value=this.props.user.username;document.getElementById('userIncludeAdultBox').checked=this.props.user.includeadult;document.getElementsByClassName('settingsValueInput')[0].value=this.props.user.email;this.setState({gennresMapped:genresToMap,genreClasses:genreStyleClassesToAdd,currentSelectedGenres:currentGenreArray});}},{key:\"handleGenreClick\",value:function handleGenreClick(index,genreNum){if(this.state.currentSelectedGenres.length<3&&!this.state.currentSelectedGenres.includes(genreNum)){var currentStyleArray=this.state.genreClasses;var currentGenreArray=this.state.currentSelectedGenres;currentGenreArray.push(genreNum);currentStyleArray[index]='genreContainer genreSelected';this.setState({genreClasses:currentStyleArray,currentSelectedGenres:currentGenreArray});}else if(this.state.currentSelectedGenres.includes(genreNum)){//user selected the genre already\ncurrentStyleArray=this.state.genreClasses;currentStyleArray[index]='genreContainer';currentGenreArray=this.state.currentSelectedGenres;currentGenreArray=currentGenreArray.filter(function(item){return item!==genreNum;});this.setState({genreClasses:currentStyleArray,currentSelectedGenres:currentGenreArray});}}},{key:\"sendUserSavedata\",value:function(){var _sendUserSavedata=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(saveData){var _this2=this;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.post(this.props.routes.update,{saveData:saveData}).then(function(res){if(res.data.status==='success'){//success updating\nlocalStorage.removeItem('username');localStorage.setItem('username',JSON.stringify(res.data.message));_this2.setState({InfoState:2,InfoTitle:'Success',InfoMessage:'Successfully updated account settings'});}else{//failure updating\n}});case 2:case\"end\":return _context.stop();}}},_callee,this);}));function sendUserSavedata(_x){return _sendUserSavedata.apply(this,arguments);}return sendUserSavedata;}()},{key:\"render\",value:function render(){var _this3=this;return/*#__PURE__*/_jsxs(\"div\",{id:\"SettingsTab\",children:[/*#__PURE__*/_jsx(\"div\",{id:\"titleContainer\",children:/*#__PURE__*/_jsx(\"p\",{id:\"accountSettingsTitle\",children:\"Account Settings\"})}),/*#__PURE__*/_jsxs(\"div\",{className:this.state.InfoClass[this.state.InfoState],children:[/*#__PURE__*/_jsx(\"p\",{id:\"errorTitle\",children:this.state.InfoTitle}),/*#__PURE__*/_jsx(\"p\",{children:this.state.InfoMessage})]}),/*#__PURE__*/_jsxs(\"div\",{className:this.state.mainSettingsClass[this.state.mainSettingsState],children:[/*#__PURE__*/_jsxs(\"div\",{id:\"userProfileContainer\",children:[/*#__PURE__*/_jsx(\"img\",{alt:\"\",id:\"userSettingsProfileImage\",src:UserImage}),/*#__PURE__*/_jsx(\"input\",{readOnly:this.state.readOnlyStates[0],type:\"text\",onBlur:function onBlur(){return _this3.userBlurField(0);},className:this.state.UsernameInputClasses[this.state.InputStates[0]]}),/*#__PURE__*/_jsx(\"img\",{onClick:function onClick(){return _this3.userClickEdit(0);},className:\"userEditButton\",alt:\"\",src:EditSVG})]}),/*#__PURE__*/_jsxs(\"div\",{id:\"userInfoSettingsContainer\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"settingsItem\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"settingsTitle\",children:\"Email:\"}),/*#__PURE__*/_jsx(\"input\",{onBlur:function onBlur(){return _this3.userBlurField(1);},readOnly:this.state.readOnlyStates[1],className:this.state.InputClasses[this.state.InputStates[1]]}),/*#__PURE__*/_jsx(\"img\",{onClick:function onClick(){return _this3.userClickEdit(1);},className:\"userEditButton mainEdit\",alt:\"\",src:EditSVG})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"settingsItem\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"settingsTitle\",children:\"Password:\"}),/*#__PURE__*/_jsx(\"p\",{className:\"settingsValue\",children:\".............\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"settingsItem\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"settingsTitle\",children:\"Interests:\"}),/*#__PURE__*/_jsxs(\"div\",{id:\"genreEditFlexContainer\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"settingsValue\",children:this.state.gennresMapped.join(', ')}),/*#__PURE__*/_jsx(\"img\",{onClick:function onClick(){return _this3.userEditGenres();},className:\"userEditButton mainEdit\",alt:\"\",src:EditSVG})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"settingsItem\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"settingsTitle\",children:\"Include Adult:\"}),/*#__PURE__*/_jsx(\"input\",{value:true,id:\"userIncludeAdultBox\",type:\"checkbox\"})]})]})]}),/*#__PURE__*/_jsx(\"div\",{onClick:function onClick(){return _this3.userSave();},className:this.state.buttonSaveClass[this.state.mainSettingsState],children:/*#__PURE__*/_jsx(\"p\",{children:\"Save\"})}),/*#__PURE__*/_jsxs(\"div\",{className:this.state.genreSelectClass[this.state.genreSelectState],children:[/*#__PURE__*/_jsx(\"p\",{id:\"surveyTitle\",children:\"What Are Your Favourite Genres? (Select Up To 3)\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"surveyFavouritesContainer\",children:[/*#__PURE__*/_jsxs(\"div\",{onClick:function onClick(){return _this3.handleGenreClick(0,18);},className:this.state.genreClasses[0],children:[/*#__PURE__*/_jsx(\"img\",{className:\"genreImage\",src:DramaSVG,alt:\"\"}),/*#__PURE__*/_jsx(\"p\",{className:\"genreName\",children:\"Drama\"})]}),/*#__PURE__*/_jsxs(\"div\",{onClick:function onClick(){return _this3.handleGenreClick(1,28);},className:this.state.genreClasses[1],children:[/*#__PURE__*/_jsx(\"img\",{className:\"genreImage\",src:ActionSVG,alt:\"\"}),/*#__PURE__*/_jsx(\"p\",{className:\"genreName\",children:\"Action\"})]}),/*#__PURE__*/_jsxs(\"div\",{onClick:function onClick(){return _this3.handleGenreClick(2,12);},className:this.state.genreClasses[2],children:[/*#__PURE__*/_jsx(\"img\",{className:\"genreImage\",src:AdventureSVG,alt:\"\"}),/*#__PURE__*/_jsx(\"p\",{className:\"genreName\",children:\"Adventure\"})]}),/*#__PURE__*/_jsxs(\"div\",{onClick:function onClick(){return _this3.handleGenreClick(3,35);},className:this.state.genreClasses[3],children:[/*#__PURE__*/_jsx(\"img\",{className:\"genreImage\",src:ComedySVG,alt:\"\"}),/*#__PURE__*/_jsx(\"p\",{className:\"genreName\",children:\"Comedy\"})]}),/*#__PURE__*/_jsxs(\"div\",{onClick:function onClick(){return _this3.handleGenreClick(4,27);},className:this.state.genreClasses[4],children:[/*#__PURE__*/_jsx(\"img\",{className:\"genreImage\",src:HorrorSVG,alt:\"\"}),/*#__PURE__*/_jsx(\"p\",{className:\"genreName\",children:\"Horror\"})]}),/*#__PURE__*/_jsxs(\"div\",{onClick:function onClick(){return _this3.handleGenreClick(5,878);},className:this.state.genreClasses[5],children:[/*#__PURE__*/_jsx(\"img\",{className:\"genreImage\",src:SciFiSVG,alt:\"\"}),/*#__PURE__*/_jsx(\"p\",{className:\"genreName\",children:\"Science Fiction\"})]})]}),/*#__PURE__*/_jsx(\"div\",{onClick:this.userSubmitSurvey,id:\"surveyButtonContainer\",children:/*#__PURE__*/_jsx(\"img\",{className:\"loginButton\",src:ArrowSVG,alt:\"\"})})]})]});}}]);return Settings;}(Component);export default Settings;","map":{"version":3,"sources":["C:/Users/willi/OneDrive/Documents/Projects/tudorflix/Client/src/Components/Settings.js"],"names":["React","Component","axios","UserImage","Settings","props","userBlurField","index","currentStates","state","readOnlyStates","currentInputStates","InputStates","setState","userClickEdit","userSubmitSurvey","currentSelectedGenres","length","genresToMap","console","log","i","x","genreMap","genres","id","push","name","genreSelectState","mainSettingsState","gennresMapped","userEditGenres","InfoState","validateEmail","email","re","test","userSave","InfoTitle","InfoMessage","currentUser","JSON","parse","localStorage","getItem","username","document","getElementsByClassName","value","includeadult","getElementById","checked","sendUserSavedata","surveyGenreIndex","user","genreClasses","genreSelectClass","mainSettingsClass","buttonSaveClass","InputClasses","UsernameInputClasses","InfoClass","genreStyleClassesToAdd","currentGenreArray","j","genreNum","includes","currentStyleArray","filter","item","saveData","post","routes","update","then","res","data","status","removeItem","setItem","stringify","message","EditSVG","join","handleGenreClick","DramaSVG","ActionSVG","AdventureSVG","ComedySVG","HorrorSVG","SciFiSVG","ArrowSVG"],"mappings":"yhCAAA,MAAOA,CAAAA,KAAP,EAAeC,SAAf,KAA+B,OAA/B,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CAEA,MAAO,gBAAP,CAEA,MAAOC,CAAAA,SAAP,KAAsB,yBAAtB,C,+cAUMC,CAAAA,Q,oGACF,kBAAYC,KAAZ,CAAkB,0CACd,uBAAMA,KAAN,EADc,MAqJlBC,aArJkB,CAqJF,SAACC,KAAD,CAAW,CACvB,GAAIC,CAAAA,aAAa,CAAG,MAAKC,KAAL,CAAWC,cAA/B,CACA,GAAIC,CAAAA,kBAAkB,CAAG,MAAKF,KAAL,CAAWG,WAApC,CACAJ,aAAa,CAACD,KAAD,CAAb,CAAuB,IAAvB,CACAI,kBAAkB,CAACJ,KAAD,CAAlB,CAA4B,CAA5B,CACA,MAAKM,QAAL,CAAc,CAACH,cAAc,CAAEF,aAAjB,CAAgCI,WAAW,CAAED,kBAA7C,CAAd,EACH,CA3JiB,OA6JlBG,aA7JkB,CA6JF,SAACP,KAAD,CAAU,CACtB,GAAIC,CAAAA,aAAa,CAAG,MAAKC,KAAL,CAAWC,cAA/B,CACA,GAAIC,CAAAA,kBAAkB,CAAG,MAAKF,KAAL,CAAWG,WAApC,CACA,GAAGD,kBAAkB,CAACJ,KAAD,CAAlB,GAA8B,CAAjC,CAAmC,CAC/BI,kBAAkB,CAACJ,KAAD,CAAlB,CAA4B,CAA5B,CACH,CAFD,IAEK,CACDI,kBAAkB,CAACJ,KAAD,CAAlB,CAA4B,CAA5B,CACH,CACD,GAAGC,aAAa,CAACD,KAAD,CAAb,GAAyB,IAA5B,CAAiC,CAC7BC,aAAa,CAACD,KAAD,CAAb,CAAuB,KAAvB,CACH,CAFD,IAEK,CACDC,aAAa,CAACD,KAAD,CAAb,CAAuB,IAAvB,CAA6B;AAChC,CACD,MAAKM,QAAL,CAAc,CAACH,cAAc,CAAEF,aAAjB,CAAgCI,WAAW,CAAED,kBAA7C,CAAd,EACH,CA3KiB,OA4KlBI,gBA5KkB,CA4KC,UAAK,CACpB,GAAG,MAAKN,KAAL,CAAWO,qBAAX,CAAiCC,MAAjC,EAA2C,CAA9C,CAAgD,CAC5C,GAAIC,CAAAA,WAAW,CAAG,EAAlB,CACAC,OAAO,CAACC,GAAR,CAAY,MAAKX,KAAL,CAAWO,qBAAvB,EACA,IAAI,GAAIK,CAAAA,CAAC,CAAG,CAAZ,CAAeA,CAAC,CAAG,MAAKZ,KAAL,CAAWO,qBAAX,CAAiCC,MAApD,CAA4DI,CAAC,EAA7D,CAAgE,CAC5D,IAAI,GAAIC,CAAAA,CAAC,CAAG,CAAZ,CAAeA,CAAC,CAAG,MAAKb,KAAL,CAAWc,QAAX,CAAoBC,MAApB,CAA2BP,MAA9C,CAAsDK,CAAC,EAAvD,CAA0D,CACtD,GAAG,MAAKb,KAAL,CAAWc,QAAX,CAAoBC,MAApB,CAA2BF,CAA3B,EAA8BG,EAA9B,GAAqC,MAAKhB,KAAL,CAAWO,qBAAX,CAAiCK,CAAjC,CAAxC,CAA4E,CACxEH,WAAW,CAACQ,IAAZ,CAAiB,MAAKjB,KAAL,CAAWc,QAAX,CAAoBC,MAApB,CAA2BF,CAA3B,EAA8BK,IAA/C,EACH,CACJ,CACJ,CACDR,OAAO,CAACC,GAAR,CAAYF,WAAZ,EACA,MAAKL,QAAL,CAAc,CAACe,gBAAgB,CAAE,CAAnB,CAAsBC,iBAAiB,CAAE,CAAzC,CAA4CC,aAAa,CAAEZ,WAA3D,CAAd,EACH,CAEJ,CA3LiB,OA6LlBa,cA7LkB,CA6LD,UAAK,CAClB,MAAKlB,QAAL,CAAc,CAACmB,SAAS,CAAE,CAAZ,CAAcJ,gBAAgB,CAAE,CAAhC,CAAmCC,iBAAiB,CAAE,CAAtD,CAAd,EACH,CA/LiB,OA8MlBI,aA9MkB,CA8MF,SAACC,KAAD,CAAW,CACvB,GAAMC,CAAAA,EAAE,CAAG,2JAAX,CAAwK;AACxK,MAAOA,CAAAA,EAAE,CAACC,IAAH,CAAQF,KAAR,CAAP,CACH,CAjNiB,OAmNlBG,QAnNkB,CAmNP,UAAK,CACZ,MAAKxB,QAAL,CAAc,CAACmB,SAAS,CAAE,CAAZ,CAAeM,SAAS,CAAE,EAA1B,CAA8BC,WAAW,CAAE,EAA3C,CAAd,EAA+D;AAC/D,GAAIC,CAAAA,WAAW,CAAGC,IAAI,CAACC,KAAL,CAAYC,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAZ,CAAlB,CACAJ,WAAW,CAACK,QAAZ,CAAuBC,QAAQ,CAACC,sBAAT,CAAgC,yBAAhC,EAA2D,CAA3D,EAA8DC,KAArF,CACA,GAAGR,WAAW,CAACK,QAAZ,CAAqB5B,MAArB,CAA8B,CAAjC,CAAmC,CAC/B,MAAKJ,QAAL,CAAc,CAACmB,SAAS,CAAE,CAAZ,CAAeM,SAAS,CAAE,OAA1B,CAAmCC,WAAW,CAAE,gDAAhD,CAAd,EACA,OACH,CACDC,WAAW,CAACS,YAAZ,CAA2BH,QAAQ,CAACI,cAAT,CAAwB,qBAAxB,EAA+CC,OAA1E,CACAX,WAAW,CAACN,KAAZ,CAAoBY,QAAQ,CAACC,sBAAT,CAAgC,oBAAhC,EAAsD,CAAtD,EAAyDC,KAA7E,CACA,GAAG,CAAC,MAAKf,aAAL,CAAmBO,WAAW,CAACN,KAA/B,CAAJ,CAA0C,CACtC,MAAKrB,QAAL,CAAc,CAACmB,SAAS,CAAE,CAAZ,CAAeM,SAAS,CAAE,OAA1B,CAAmCC,WAAW,CAAE,mCAAhD,CAAd,EACA,OACH,CACDC,WAAW,CAAChB,MAAZ,CAAqB,MAAKf,KAAL,CAAWO,qBAAhC,CAEA,MAAKH,QAAL,CAAc,CAAC2B,WAAW,CAAEA,WAAd,CAAd,EACA,MAAKY,gBAAL,CAAsBZ,WAAtB,EACH,CArOiB,CAEd,MAAK/B,KAAL,CAAa,CACTc,QAAQ,CAAE,CAAC,SAAU,CACjB,CACE,KAAM,EADR,CAEE,OAAQ,QAFV,CADiB,CAKjB,CACE,KAAM,EADR,CAEE,OAAQ,WAFV,CALiB,CASjB,CACE,KAAM,EADR,CAEE,OAAQ,WAFV,CATiB,CAajB,CACE,KAAM,EADR,CAEE,OAAQ,QAFV,CAbiB,CAiBjB,CACE,KAAM,EADR,CAEE,OAAQ,OAFV,CAjBiB,CAqBjB,CACE,KAAM,EADR,CAEE,OAAQ,aAFV,CArBiB,CAyBjB,CACE,KAAM,EADR,CAEE,OAAQ,OAFV,CAzBiB,CA6BjB,CACE,KAAM,KADR,CAEE,OAAQ,QAFV,CA7BiB,CAiCjB,CACE,KAAM,EADR,CAEE,OAAQ,SAFV,CAjCiB,CAqCjB,CACE,KAAM,EADR,CAEE,OAAQ,SAFV,CArCiB,CAyCjB,CACE,KAAM,EADR,CAEE,OAAQ,QAFV,CAzCiB,CA6CjB,CACE,KAAM,KADR,CAEE,OAAQ,OAFV,CA7CiB,CAiDjB,CACE,KAAM,IADR,CAEE,OAAQ,SAFV,CAjDiB,CAqDjB,CACE,KAAM,KADR,CAEE,OAAQ,SAFV,CArDiB,CAyDjB,CACE,KAAM,GADR,CAEE,OAAQ,iBAFV,CAzDiB,CA6DjB,CACE,KAAM,KADR,CAEE,OAAQ,UAFV,CA7DiB,CAiEjB,CACE,KAAM,EADR,CAEE,OAAQ,UAFV,CAjEiB,CAqEjB,CACE,KAAM,KADR,CAEE,OAAQ,KAFV,CArEiB,CAyEjB,CACE,KAAM,EADR,CAEE,OAAQ,SAFV,CAzEiB,CAAX,CADD,CAgFT8B,gBAAgB,CAAE,CACd,CAAC,KAAM,EAAP,CADc,CACF,CAAC,KAAM,EAAP,CADE,CACU,CAAC,KAAM,EAAP,CADV,CACsB,CAAC,KAAM,EAAP,CADtB,CACkC,CAAC,KAAM,EAAP,CADlC,CAC8C,CAAC,KAAM,GAAP,CAD9C,CAhFT,CAmFTb,WAAW,CAAE,MAAKnC,KAAL,CAAWiD,IAnFf,CAoFTxB,aAAa,CAAE,EApFN,CAqFTpB,cAAc,CAAE,CAAC,IAAD,CAAO,IAAP,CAAa,IAAb,CArFP,CAsFT6C,YAAY,CAAE,EAtFL,CAuFTvC,qBAAqB,CAAE,EAvFd,CAwFTwC,gBAAgB,CAAE,CAAC,6BAAD,CAAgC,yDAAhC,CAxFT,CAyFT5B,gBAAgB,CAAE,CAzFT,CA0FT6B,iBAAiB,CAAE,CAAC,uBAAD,CAA0B,iDAA1B,CA1FV,CA2FTC,eAAe,CAAE,CAAC,SAAD,CAAY,qBAAZ,CA3FR,CA4FT7B,iBAAiB,CAAE,CA5FV,CA6FT8B,YAAY,CAAE,CAAC,kCAAD,CAAqC,4CAArC,CA7FL,CA8FTC,oBAAoB,CAAE,CAAC,yBAAD,CAA4B,qDAA5B,CA9Fb,CA+FThD,WAAW,CAAE,CAAC,CAAD,CAAI,CAAJ,CA/FJ,CAgGTiD,SAAS,CAAE,CAAC,eAAD,CAAkB,8BAAlB,CAAkD,gCAAlD,CAhGF,CAiGT7B,SAAS,CAAE,CAjGF,CAkGTM,SAAS,CAAE,EAlGF,CAmGTC,WAAW,CAAE,EAnGJ,CAAb,CAFc,aAuGjB,C,sDAED,4BAAmB,CACf,GAAIrB,CAAAA,WAAW,CAAG,EAAlB,CACAC,OAAO,CAACC,GAAR,CAAY,KAAKX,KAAL,CAAW4C,gBAAX,CAA4B,CAA5B,CAAZ,EACA,GAAIS,CAAAA,sBAAsB,CAAG,EAA7B,CACA,GAAIC,CAAAA,iBAAiB,CAAG,KAAKtD,KAAL,CAAWO,qBAAnC,CACA,IAAK,GAAIM,CAAAA,CAAC,CAAG,CAAb,CAAgBA,CAAC,CAAG,CAApB,CAAuBA,CAAC,EAAxB,CAA2B,CACvBwC,sBAAsB,CAACpC,IAAvB,CAA4B,gBAA5B,EACH,CACD,IAAI,GAAIL,CAAAA,CAAC,CAAG,CAAZ,CAAeA,CAAC,CAAG,KAAKhB,KAAL,CAAWiD,IAAX,CAAgB9B,MAAhB,CAAuBP,MAA1C,CAAkDI,CAAC,EAAnD,CAAsD,CAClD,IAAIC,CAAC,CAAG,CAAR,CAAWA,CAAC,CAAG,KAAKb,KAAL,CAAWc,QAAX,CAAoBC,MAApB,CAA2BP,MAA1C,CAAkDK,CAAC,EAAnD,CAAsD,CAClD,GAAG,KAAKb,KAAL,CAAWc,QAAX,CAAoBC,MAApB,CAA2BF,CAA3B,EAA8BG,EAA9B,GAAqC,KAAKpB,KAAL,CAAWiD,IAAX,CAAgB9B,MAAhB,CAAuBH,CAAvB,CAAxC,CAAkE,CAC9DH,WAAW,CAACQ,IAAZ,CAAiB,KAAKjB,KAAL,CAAWc,QAAX,CAAoBC,MAApB,CAA2BF,CAA3B,EAA8BK,IAA/C,EACH,CACJ,CACD,IAAI,GAAIqC,CAAAA,CAAC,CAAG,CAAZ,CAAeA,CAAC,CAAG,KAAKvD,KAAL,CAAW4C,gBAAX,CAA4BpC,MAA/C,CAAuD+C,CAAC,EAAxD,CAA2D,CACvD,GAAG,KAAK3D,KAAL,CAAWiD,IAAX,CAAgB9B,MAAhB,CAAuBH,CAAvB,IAA8B,KAAKZ,KAAL,CAAW4C,gBAAX,CAA4BW,CAA5B,EAA+BvC,EAAhE,CAAmE,CAC/DqC,sBAAsB,CAACE,CAAD,CAAtB,CAA4B,8BAA5B,CACAD,iBAAiB,CAACrC,IAAlB,CAAuB,KAAKjB,KAAL,CAAW4C,gBAAX,CAA4BW,CAA5B,EAA+BvC,EAAtD,EACH,CACJ,CACJ,CACDN,OAAO,CAACC,GAAR,CAAY2C,iBAAZ,EACAjB,QAAQ,CAACC,sBAAT,CAAgC,yBAAhC,EAA2D,CAA3D,EAA8DC,KAA9D,CAAsE,KAAK3C,KAAL,CAAWiD,IAAX,CAAgBT,QAAtF,CACAC,QAAQ,CAACI,cAAT,CAAwB,qBAAxB,EAA+CC,OAA/C,CAAyD,KAAK9C,KAAL,CAAWiD,IAAX,CAAgBL,YAAzE,CACAH,QAAQ,CAACC,sBAAT,CAAgC,oBAAhC,EAAsD,CAAtD,EAAyDC,KAAzD,CAAiE,KAAK3C,KAAL,CAAWiD,IAAX,CAAgBpB,KAAjF,CACA,KAAKrB,QAAL,CAAc,CAACiB,aAAa,CAAEZ,WAAhB,CAA6BqC,YAAY,CAAEO,sBAA3C,CAAmE9C,qBAAqB,CAAE+C,iBAA1F,CAAd,EACH,C,gCAED,0BAAiBxD,KAAjB,CAAwB0D,QAAxB,CAAiC,CAC7B,GAAG,KAAKxD,KAAL,CAAWO,qBAAX,CAAiCC,MAAjC,CAA0C,CAA1C,EAA+C,CAAC,KAAKR,KAAL,CAAWO,qBAAX,CAAiCkD,QAAjC,CAA0CD,QAA1C,CAAnD,CAAuG,CACnG,GAAIE,CAAAA,iBAAiB,CAAG,KAAK1D,KAAL,CAAW8C,YAAnC,CACA,GAAIQ,CAAAA,iBAAiB,CAAG,KAAKtD,KAAL,CAAWO,qBAAnC,CACA+C,iBAAiB,CAACrC,IAAlB,CAAuBuC,QAAvB,EACAE,iBAAiB,CAAC5D,KAAD,CAAjB,CAA2B,8BAA3B,CACA,KAAKM,QAAL,CAAc,CAAC0C,YAAY,CAAEY,iBAAf,CAAkCnD,qBAAqB,CAAE+C,iBAAzD,CAAd,EACH,CAND,IAMM,IAAG,KAAKtD,KAAL,CAAWO,qBAAX,CAAiCkD,QAAjC,CAA0CD,QAA1C,CAAH,CAAuD,CAAE;AAC3DE,iBAAiB,CAAG,KAAK1D,KAAL,CAAW8C,YAA/B,CACAY,iBAAiB,CAAC5D,KAAD,CAAjB,CAA2B,gBAA3B,CACAwD,iBAAiB,CAAG,KAAKtD,KAAL,CAAWO,qBAA/B,CACA+C,iBAAiB,CAAGA,iBAAiB,CAACK,MAAlB,CAAyB,SAAAC,IAAI,QAAIA,CAAAA,IAAI,GAAKJ,QAAb,EAA7B,CAApB,CACA,KAAKpD,QAAL,CAAc,CAAC0C,YAAY,CAAEY,iBAAf,CAAkCnD,qBAAqB,CAAE+C,iBAAzD,CAAd,EACH,CACJ,C,yHA8CD,iBAAuBO,QAAvB,wJACUpE,CAAAA,KAAK,CAACqE,IAAN,CAAW,KAAKlE,KAAL,CAAWmE,MAAX,CAAkBC,MAA7B,CAAqC,CAACH,QAAQ,CAARA,QAAD,CAArC,EACDI,IADC,CACI,SAAAC,GAAG,CAAI,CACT,GAAGA,GAAG,CAACC,IAAJ,CAASC,MAAT,GAAoB,SAAvB,CAAiC,CAAE;AAC/BlC,YAAY,CAACmC,UAAb,CAAwB,UAAxB,EACAnC,YAAY,CAACoC,OAAb,CAAqB,UAArB,CAAiCtC,IAAI,CAACuC,SAAL,CAAeL,GAAG,CAACC,IAAJ,CAASK,OAAxB,CAAjC,EACA,MAAI,CAACpE,QAAL,CAAc,CAACmB,SAAS,CAAE,CAAZ,CAAeM,SAAS,CAAE,SAA1B,CAAqCC,WAAW,CAAE,uCAAlD,CAAd,EACH,CAJD,IAIK,CAAE;AAEN,CACJ,CATC,CADV,4D,kIAsCA,iBAAQ,iBACJ,mBACI,aAAK,EAAE,CAAC,aAAR,wBACI,YAAK,EAAE,CAAC,gBAAR,uBACI,UAAG,EAAE,CAAC,sBAAN,8BADJ,EADJ,cAII,aAAK,SAAS,CAAE,KAAK9B,KAAL,CAAWoD,SAAX,CAAqB,KAAKpD,KAAL,CAAWuB,SAAhC,CAAhB,wBACQ,UAAG,EAAE,CAAC,YAAN,UAAoB,KAAKvB,KAAL,CAAW6B,SAA/B,EADR,cAEQ,mBAAI,KAAK7B,KAAL,CAAW8B,WAAf,EAFR,GAJJ,cAQI,aAAK,SAAS,CAAE,KAAK9B,KAAL,CAAWgD,iBAAX,CAA6B,KAAKhD,KAAL,CAAWoB,iBAAxC,CAAhB,wBACI,aAAK,EAAE,CAAC,sBAAR,wBACI,YAAK,GAAG,CAAC,EAAT,CAAY,EAAE,CAAC,0BAAf,CAA0C,GAAG,CAAE1B,SAA/C,EADJ,cAEI,cAAO,QAAQ,CAAE,KAAKM,KAAL,CAAWC,cAAX,CAA0B,CAA1B,CAAjB,CAA+C,IAAI,CAAC,MAApD,CAA2D,MAAM,CAAE,wBAAM,CAAA,MAAI,CAACJ,aAAL,CAAmB,CAAnB,CAAN,EAAnE,CAAgG,SAAS,CAAE,KAAKG,KAAL,CAAWmD,oBAAX,CAAgC,KAAKnD,KAAL,CAAWG,WAAX,CAAuB,CAAvB,CAAhC,CAA3G,EAFJ,cAGI,YAAK,OAAO,CAAE,yBAAM,CAAA,MAAI,CAACE,aAAL,CAAmB,CAAnB,CAAN,EAAd,CAA2C,SAAS,CAAC,gBAArD,CAAsE,GAAG,CAAC,EAA1E,CAA6E,GAAG,CAAEoE,OAAlF,EAHJ,GADJ,cAMI,aAAK,EAAE,CAAC,2BAAR,wBACI,aAAK,SAAS,CAAC,cAAf,wBACI,UAAG,SAAS,CAAC,eAAb,oBADJ,cAEI,cAAO,MAAM,CAAE,wBAAM,CAAA,MAAI,CAAC5E,aAAL,CAAmB,CAAnB,CAAN,EAAf,CAA4C,QAAQ,CAAE,KAAKG,KAAL,CAAWC,cAAX,CAA0B,CAA1B,CAAtD,CAAoF,SAAS,CAAE,KAAKD,KAAL,CAAWkD,YAAX,CAAwB,KAAKlD,KAAL,CAAWG,WAAX,CAAuB,CAAvB,CAAxB,CAA/F,EAFJ,cAGI,YAAK,OAAO,CAAE,yBAAM,CAAA,MAAI,CAACE,aAAL,CAAmB,CAAnB,CAAN,EAAd,CAA2C,SAAS,CAAC,yBAArD,CAA+E,GAAG,CAAC,EAAnF,CAAsF,GAAG,CAAEoE,OAA3F,EAHJ,GADJ,cAMI,aAAK,SAAS,CAAC,cAAf,wBACI,UAAG,SAAS,CAAC,eAAb,uBADJ,cAEI,UAAG,SAAS,CAAC,eAAb,2BAFJ,GANJ,cAUI,aAAK,SAAS,CAAC,cAAf,wBACI,UAAG,SAAS,CAAC,eAAb,wBADJ,cAEI,aAAK,EAAE,CAAC,wBAAR,wBACI,UAAG,SAAS,CAAC,eAAb,UAA8B,KAAKzE,KAAL,CAAWqB,aAAX,CAAyBqD,IAAzB,CAA8B,IAA9B,CAA9B,EADJ,cAEI,YAAK,OAAO,CAAE,yBAAM,CAAA,MAAI,CAACpD,cAAL,EAAN,EAAd,CAA2C,SAAS,CAAC,yBAArD,CAA+E,GAAG,CAAC,EAAnF,CAAsF,GAAG,CAAEmD,OAA3F,EAFJ,GAFJ,GAVJ,cAiBI,aAAK,SAAS,CAAC,cAAf,wBACI,UAAG,SAAS,CAAC,eAAb,4BADJ,cAEI,cAAO,KAAK,CAAE,IAAd,CAAoB,EAAE,CAAC,qBAAvB,CAA6C,IAAI,CAAC,UAAlD,EAFJ,GAjBJ,GANJ,GARJ,cAqCA,YAAK,OAAO,CAAE,yBAAM,CAAA,MAAI,CAAC7C,QAAL,EAAN,EAAd,CAAqC,SAAS,CAAE,KAAK5B,KAAL,CAAWiD,eAAX,CAA2B,KAAKjD,KAAL,CAAWoB,iBAAtC,CAAhD,uBACI,2BADJ,EArCA,cAwCA,aAAK,SAAS,CAAE,KAAKpB,KAAL,CAAW+C,gBAAX,CAA4B,KAAK/C,KAAL,CAAWmB,gBAAvC,CAAhB,wBACI,UAAG,EAAE,CAAC,aAAN,8DADJ,cAEI,aAAK,SAAS,CAAC,2BAAf,wBACI,aAAK,OAAO,CAAE,yBAAM,CAAA,MAAI,CAACwD,gBAAL,CAAsB,CAAtB,CAAyB,EAAzB,CAAN,EAAd,CAAkD,SAAS,CAAE,KAAK3E,KAAL,CAAW8C,YAAX,CAAwB,CAAxB,CAA7D,wBACI,YAAK,SAAS,CAAC,YAAf,CAA4B,GAAG,CAAE8B,QAAjC,CAA2C,GAAG,CAAC,EAA/C,EADJ,cAEI,UAAG,SAAS,CAAC,WAAb,mBAFJ,GADJ,cAKI,aAAK,OAAO,CAAE,yBAAM,CAAA,MAAI,CAACD,gBAAL,CAAsB,CAAtB,CAAyB,EAAzB,CAAN,EAAd,CAAkD,SAAS,CAAE,KAAK3E,KAAL,CAAW8C,YAAX,CAAwB,CAAxB,CAA7D,wBACI,YAAK,SAAS,CAAC,YAAf,CAA4B,GAAG,CAAE+B,SAAjC,CAA4C,GAAG,CAAC,EAAhD,EADJ,cAEI,UAAG,SAAS,CAAC,WAAb,oBAFJ,GALJ,cASI,aAAK,OAAO,CAAE,yBAAM,CAAA,MAAI,CAACF,gBAAL,CAAsB,CAAtB,CAAyB,EAAzB,CAAN,EAAd,CAAkD,SAAS,CAAE,KAAK3E,KAAL,CAAW8C,YAAX,CAAwB,CAAxB,CAA7D,wBACI,YAAK,SAAS,CAAC,YAAf,CAA4B,GAAG,CAAEgC,YAAjC,CAA+C,GAAG,CAAC,EAAnD,EADJ,cAEI,UAAG,SAAS,CAAC,WAAb,uBAFJ,GATJ,cAaI,aAAK,OAAO,CAAE,yBAAM,CAAA,MAAI,CAACH,gBAAL,CAAsB,CAAtB,CAAyB,EAAzB,CAAN,EAAd,CAAkD,SAAS,CAAE,KAAK3E,KAAL,CAAW8C,YAAX,CAAwB,CAAxB,CAA7D,wBACI,YAAK,SAAS,CAAC,YAAf,CAA4B,GAAG,CAAEiC,SAAjC,CAA4C,GAAG,CAAC,EAAhD,EADJ,cAEI,UAAG,SAAS,CAAC,WAAb,oBAFJ,GAbJ,cAiBI,aAAK,OAAO,CAAE,yBAAM,CAAA,MAAI,CAACJ,gBAAL,CAAsB,CAAtB,CAAyB,EAAzB,CAAN,EAAd,CAAkD,SAAS,CAAE,KAAK3E,KAAL,CAAW8C,YAAX,CAAwB,CAAxB,CAA7D,wBACI,YAAK,SAAS,CAAC,YAAf,CAA4B,GAAG,CAAEkC,SAAjC,CAA4C,GAAG,CAAC,EAAhD,EADJ,cAEI,UAAG,SAAS,CAAC,WAAb,oBAFJ,GAjBJ,cAqBI,aAAK,OAAO,CAAE,yBAAM,CAAA,MAAI,CAACL,gBAAL,CAAsB,CAAtB,CAAyB,GAAzB,CAAN,EAAd,CAAmD,SAAS,CAAE,KAAK3E,KAAL,CAAW8C,YAAX,CAAwB,CAAxB,CAA9D,wBACI,YAAK,SAAS,CAAC,YAAf,CAA4B,GAAG,CAAEmC,QAAjC,CAA2C,GAAG,CAAC,EAA/C,EADJ,cAEI,UAAG,SAAS,CAAC,WAAb,6BAFJ,GArBJ,GAFJ,cA4BI,YAAK,OAAO,CAAE,KAAK3E,gBAAnB,CAAqC,EAAE,CAAC,uBAAxC,uBACI,YAAK,SAAS,CAAC,aAAf,CAA6B,GAAG,CAAE4E,QAAlC,CAA4C,GAAG,CAAC,EAAhD,EADJ,EA5BJ,GAxCA,GADJ,CA2EH,C,sBApTkB1F,S,EAuTvB,cAAeG,CAAAA,QAAf","sourcesContent":["import React, {Component} from 'react';\r\nimport axios from 'axios';\r\n\r\nimport './Settings.css';\r\n\r\nimport UserImage from '../img/User-Profile.png';\r\nimport EditSVG from '../SVG/Edit-Solid.svg';\r\nimport ArrowSVG from '../SVG/Arrow-Solid.svg';\r\nimport DramaSVG from '../SVG/Drama-Solid.svg';\r\nimport AdventureSVG from '../SVG/Adventure-Solid.svg';\r\nimport ComedySVG from '../SVG/Comedy-Solid.svg';\r\nimport HorrorSVG from '../SVG/Horror-Solid.svg';\r\nimport SciFiSVG from '../SVG/SciFi-Solid.svg';\r\nimport ActionSVG from '../SVG/Action-Solid.svg';\r\n\r\nclass Settings extends Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            genreMap: {\"genres\": [\r\n                {\r\n                  \"id\": 28,\r\n                  \"name\": \"Action\"\r\n                },\r\n                {\r\n                  \"id\": 12,\r\n                  \"name\": \"Adventure\"\r\n                },\r\n                {\r\n                  \"id\": 16,\r\n                  \"name\": \"Animation\"\r\n                },\r\n                {\r\n                  \"id\": 35,\r\n                  \"name\": \"Comedy\"\r\n                },\r\n                {\r\n                  \"id\": 80,\r\n                  \"name\": \"Crime\"\r\n                },\r\n                {\r\n                  \"id\": 99,\r\n                  \"name\": \"Documentary\"\r\n                },\r\n                {\r\n                  \"id\": 18,\r\n                  \"name\": \"Drama\"\r\n                },\r\n                {\r\n                  \"id\": 10751,\r\n                  \"name\": \"Family\"\r\n                },\r\n                {\r\n                  \"id\": 14,\r\n                  \"name\": \"Fantasy\"\r\n                },\r\n                {\r\n                  \"id\": 36,\r\n                  \"name\": \"History\"\r\n                },\r\n                {\r\n                  \"id\": 27,\r\n                  \"name\": \"Horror\"\r\n                },\r\n                {\r\n                  \"id\": 10402,\r\n                  \"name\": \"Music\"\r\n                },\r\n                {\r\n                  \"id\": 9648,\r\n                  \"name\": \"Mystery\"\r\n                },\r\n                {\r\n                  \"id\": 10749,\r\n                  \"name\": \"Romance\"\r\n                },\r\n                {\r\n                  \"id\": 878,\r\n                  \"name\": \"Science Fiction\"\r\n                },\r\n                {\r\n                  \"id\": 10770,\r\n                  \"name\": \"TV Movie\"\r\n                },\r\n                {\r\n                  \"id\": 53,\r\n                  \"name\": \"Thriller\"\r\n                },\r\n                {\r\n                  \"id\": 10752,\r\n                  \"name\": \"War\"\r\n                },\r\n                {\r\n                  \"id\": 37,\r\n                  \"name\": \"Western\"\r\n                }\r\n              ]\r\n            },\r\n            surveyGenreIndex: [\r\n                {'id': 18}, {'id': 28}, {'id': 12}, {'id': 35}, {'id': 27}, {'id': 878}\r\n            ],\r\n            currentUser: this.props.user,\r\n            gennresMapped: [],\r\n            readOnlyStates: [true, true, true],\r\n            genreClasses: [],\r\n            currentSelectedGenres: [],\r\n            genreSelectClass: ['surveyContainerSettingsHide', 'surveyContainerSettingsHide surveyContainerSettingsShow'],\r\n            genreSelectState: 0,\r\n            mainSettingsClass: ['mainSettingsContainer', 'mainSettingsContainer mainSettingsContainerHide'],\r\n            buttonSaveClass: ['saveBtn', 'saveBtn saveBtnHide'],\r\n            mainSettingsState: 0,\r\n            InputClasses: ['settingsValue settingsValueInput', 'settingsValue settingsValueInput InputEdit'],\r\n            UsernameInputClasses: ['userSettingsProfileName', 'userSettingsProfileName userSettingsProfileNameEdit'],\r\n            InputStates: [0, 0],\r\n            InfoClass: ['InfoContainer', 'InfoContainer errorContainer', 'InfoContainer successContainer'],\r\n            InfoState: 0,\r\n            InfoTitle: '',\r\n            InfoMessage: '',\r\n        }\r\n    }\r\n    \r\n    componentDidMount(){\r\n        var genresToMap = [];\r\n        console.log(this.state.surveyGenreIndex[0]);\r\n        var genreStyleClassesToAdd = []\r\n        var currentGenreArray = this.state.currentSelectedGenres;\r\n        for (var x = 0; x < 6; x++){\r\n            genreStyleClassesToAdd.push('genreContainer');\r\n        }\r\n        for(var i = 0; i < this.props.user.genres.length; i++){\r\n            for(x = 0; x < this.state.genreMap.genres.length; x++){\r\n                if(this.state.genreMap.genres[x].id === this.props.user.genres[i]){\r\n                    genresToMap.push(this.state.genreMap.genres[x].name);\r\n                }\r\n            }\r\n            for(var j = 0; j < this.state.surveyGenreIndex.length; j++){\r\n                if(this.props.user.genres[i] === this.state.surveyGenreIndex[j].id){\r\n                    genreStyleClassesToAdd[j] = 'genreContainer genreSelected';\r\n                    currentGenreArray.push(this.state.surveyGenreIndex[j].id);\r\n                }\r\n            }\r\n        }\r\n        console.log(currentGenreArray);\r\n        document.getElementsByClassName('userSettingsProfileName')[0].value = this.props.user.username;\r\n        document.getElementById('userIncludeAdultBox').checked = this.props.user.includeadult;\r\n        document.getElementsByClassName('settingsValueInput')[0].value = this.props.user.email;\r\n        this.setState({gennresMapped: genresToMap, genreClasses: genreStyleClassesToAdd, currentSelectedGenres: currentGenreArray});\r\n    }\r\n\r\n    handleGenreClick(index, genreNum){\r\n        if(this.state.currentSelectedGenres.length < 3 && !this.state.currentSelectedGenres.includes(genreNum)){\r\n            var currentStyleArray = this.state.genreClasses;\r\n            var currentGenreArray = this.state.currentSelectedGenres;\r\n            currentGenreArray.push(genreNum);\r\n            currentStyleArray[index] = 'genreContainer genreSelected';\r\n            this.setState({genreClasses: currentStyleArray, currentSelectedGenres: currentGenreArray});\r\n        }else if(this.state.currentSelectedGenres.includes(genreNum)){ //user selected the genre already\r\n            currentStyleArray = this.state.genreClasses;\r\n            currentStyleArray[index] = 'genreContainer';\r\n            currentGenreArray = this.state.currentSelectedGenres;\r\n            currentGenreArray = currentGenreArray.filter(item => item !== genreNum);\r\n            this.setState({genreClasses: currentStyleArray, currentSelectedGenres: currentGenreArray});\r\n        }\r\n    }\r\n\r\n    userBlurField = (index) => {\r\n        var currentStates = this.state.readOnlyStates;\r\n        var currentInputStates = this.state.InputStates;\r\n        currentStates[index] = true;\r\n        currentInputStates[index] = 0;\r\n        this.setState({readOnlyStates: currentStates, InputStates: currentInputStates});\r\n    }\r\n\r\n    userClickEdit = (index) =>{\r\n        var currentStates = this.state.readOnlyStates;\r\n        var currentInputStates = this.state.InputStates;\r\n        if(currentInputStates[index] === 0){\r\n            currentInputStates[index] = 1;\r\n        }else{\r\n            currentInputStates[index] = 0;\r\n        }\r\n        if(currentStates[index] === true){\r\n            currentStates[index] = false;\r\n        }else{\r\n            currentStates[index] = true; //user finished with editing\r\n        }\r\n        this.setState({readOnlyStates: currentStates, InputStates: currentInputStates});\r\n    }\r\n    userSubmitSurvey = () =>{\r\n        if(this.state.currentSelectedGenres.length >= 1){\r\n            var genresToMap = [];\r\n            console.log(this.state.currentSelectedGenres);\r\n            for(var i = 0; i < this.state.currentSelectedGenres.length; i++){\r\n                for(var x = 0; x < this.state.genreMap.genres.length; x++){\r\n                    if(this.state.genreMap.genres[x].id === this.state.currentSelectedGenres[i]){\r\n                        genresToMap.push(this.state.genreMap.genres[x].name);\r\n                    }\r\n                }\r\n            }\r\n            console.log(genresToMap);\r\n            this.setState({genreSelectState: 0, mainSettingsState: 0, gennresMapped: genresToMap});\r\n        }\r\n\r\n    }\r\n\r\n    userEditGenres = () =>{\r\n        this.setState({InfoState: 0,genreSelectState: 1, mainSettingsState: 1});\r\n    }\r\n\r\n    async sendUserSavedata(saveData){\r\n        await axios.post(this.props.routes.update, {saveData})\r\n            .then(res => {\r\n                if(res.data.status === 'success'){ //success updating\r\n                    localStorage.removeItem('username');\r\n                    localStorage.setItem('username', JSON.stringify(res.data.message));\r\n                    this.setState({InfoState: 2, InfoTitle: 'Success', InfoMessage: 'Successfully updated account settings'});\r\n                }else{ //failure updating\r\n                    \r\n                }\r\n            })\r\n    }\r\n\r\n    validateEmail = (email) => {\r\n        const re = /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/; // eslint-disable-line\r\n        return re.test(email);\r\n    }\r\n\r\n    userSave = () =>{\r\n        this.setState({InfoState: 0, InfoTitle: '', InfoMessage: ''}); // reset info table\r\n        var currentUser = JSON.parse((localStorage.getItem('username')));\r\n        currentUser.username = document.getElementsByClassName('userSettingsProfileName')[0].value;\r\n        if(currentUser.username.length < 3){\r\n            this.setState({InfoState: 1, InfoTitle: 'Error', InfoMessage: 'Please Set A Username longer than 3 characters'});\r\n            return;\r\n        }\r\n        currentUser.includeadult = document.getElementById('userIncludeAdultBox').checked;\r\n        currentUser.email = document.getElementsByClassName('settingsValueInput')[0].value;\r\n        if(!this.validateEmail(currentUser.email)){\r\n            this.setState({InfoState: 1, InfoTitle: 'Error', InfoMessage: 'Please Enter a valid Email adress'});\r\n            return;\r\n        }\r\n        currentUser.genres = this.state.currentSelectedGenres;\r\n\r\n        this.setState({currentUser: currentUser});\r\n        this.sendUserSavedata(currentUser)\r\n    }\r\n    \r\n    render(){\r\n        return(\r\n            <div id='SettingsTab'>\r\n                <div id='titleContainer'>\r\n                    <p id='accountSettingsTitle'>Account Settings</p>\r\n                </div>\r\n                <div className={this.state.InfoClass[this.state.InfoState]}>\r\n                        <p id='errorTitle'>{this.state.InfoTitle}</p>\r\n                        <p>{this.state.InfoMessage}</p>\r\n                </div>\r\n                <div className={this.state.mainSettingsClass[this.state.mainSettingsState]}>\r\n                    <div id='userProfileContainer'>\r\n                        <img alt='' id='userSettingsProfileImage' src={UserImage}></img>\r\n                        <input readOnly={this.state.readOnlyStates[0]} type='text' onBlur={() => this.userBlurField(0)} className={this.state.UsernameInputClasses[this.state.InputStates[0]]}></input>\r\n                        <img onClick={() => this.userClickEdit(0)} className='userEditButton' alt='' src={EditSVG}></img>\r\n                    </div>\r\n                    <div id='userInfoSettingsContainer'>\r\n                        <div className='settingsItem'>\r\n                            <p className='settingsTitle'>Email:</p>\r\n                            <input onBlur={() => this.userBlurField(1)} readOnly={this.state.readOnlyStates[1]} className={this.state.InputClasses[this.state.InputStates[1]]}></input>\r\n                            <img onClick={() => this.userClickEdit(1)} className='userEditButton mainEdit' alt='' src={EditSVG}></img>\r\n                        </div>\r\n                        <div className='settingsItem'>\r\n                            <p className='settingsTitle'>Password:</p>\r\n                            <p className='settingsValue'>.............</p>\r\n                        </div>\r\n                        <div className='settingsItem'>\r\n                            <p className='settingsTitle'>Interests:</p>\r\n                            <div id='genreEditFlexContainer'>\r\n                                <p className='settingsValue'>{this.state.gennresMapped.join(', ')}</p>\r\n                                <img onClick={() => this.userEditGenres()} className='userEditButton mainEdit' alt='' src={EditSVG}></img>\r\n                            </div>\r\n                        </div>\r\n                        <div className='settingsItem'>\r\n                            <p className='settingsTitle'>Include Adult:</p>\r\n                            <input value={true} id='userIncludeAdultBox' type='checkbox'/>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div onClick={() => this.userSave()} className={this.state.buttonSaveClass[this.state.mainSettingsState]}>\r\n                <p>Save</p>\r\n            </div>\r\n            <div className={this.state.genreSelectClass[this.state.genreSelectState]}>\r\n                <p id='surveyTitle'>What Are Your Favourite Genres? (Select Up To 3)</p>\r\n                <div className='surveyFavouritesContainer'>\r\n                    <div onClick={() => this.handleGenreClick(0, 18)} className={this.state.genreClasses[0]}>\r\n                        <img className='genreImage' src={DramaSVG} alt=''></img>\r\n                        <p className='genreName'>Drama</p>\r\n                    </div>\r\n                    <div onClick={() => this.handleGenreClick(1, 28)} className={this.state.genreClasses[1]}>\r\n                        <img className='genreImage' src={ActionSVG} alt=''></img>\r\n                        <p className='genreName'>Action</p>\r\n                    </div>\r\n                    <div onClick={() => this.handleGenreClick(2, 12)} className={this.state.genreClasses[2]}>\r\n                        <img className='genreImage' src={AdventureSVG} alt=''></img>\r\n                        <p className='genreName'>Adventure</p>\r\n                    </div>\r\n                    <div onClick={() => this.handleGenreClick(3, 35)} className={this.state.genreClasses[3]}>\r\n                        <img className='genreImage' src={ComedySVG} alt=''></img>\r\n                        <p className='genreName'>Comedy</p>\r\n                    </div>\r\n                    <div onClick={() => this.handleGenreClick(4, 27)} className={this.state.genreClasses[4]}>\r\n                        <img className='genreImage' src={HorrorSVG} alt=''></img>\r\n                        <p className='genreName'>Horror</p>\r\n                    </div>\r\n                    <div onClick={() => this.handleGenreClick(5, 878)} className={this.state.genreClasses[5]}>\r\n                        <img className='genreImage' src={SciFiSVG} alt=''></img>\r\n                        <p className='genreName'>Science Fiction</p>\r\n                    </div>\r\n                </div>\r\n                <div onClick={this.userSubmitSurvey} id='surveyButtonContainer'>\r\n                    <img className='loginButton' src={ArrowSVG} alt=''></img>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Settings;"]},"metadata":{},"sourceType":"module"}