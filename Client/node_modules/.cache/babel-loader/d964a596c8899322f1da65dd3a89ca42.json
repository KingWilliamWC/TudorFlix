{"ast":null,"code":"import _regeneratorRuntime from\"/home/william/Documents/Projects/TudorFlix/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/william/Documents/Projects/TudorFlix/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/home/william/Documents/Projects/TudorFlix/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/william/Documents/Projects/TudorFlix/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/william/Documents/Projects/TudorFlix/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/william/Documents/Projects/TudorFlix/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import axios from'axios';import'./MoviesHome.css';import StarSVG from\"../SVG/Star-Solid.svg\";import HeartSVG from\"../SVG/Heart-Solid.svg\";import PlaySVG from\"../SVG/Play-Solid.svg\";import CircleSVG from\"../SVG/Circle-Solid.svg\";import MoviesRow from'../MoviesRow.js';import MovieSlideUp from'../MovieFullTab';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var MoviesHome=/*#__PURE__*/function(_Component){_inherits(MoviesHome,_Component);var _super=_createSuper(MoviesHome);function MoviesHome(props){var _this;_classCallCheck(this,MoviesHome);_this=_super.call(this,props);_this.callbackAfterRequest=function(){return _this.state.Trending?_this.state.Trending:'';};_this.handleMovieClick=function(movieID){if(movieID!=='none'){_this.getMovieInfo(movieID);}else{if(_this.state.isOpen===0){_this.setState({isOpen:1});}else{_this.setState({isOpen:0});}}};_this.OnUserSeeMore=function(name){name==='For You'?_this.props.HandleTabClick(2):_this.props.HandleTabClick(1);};_this.state={data:null,FeaturedMovie:'',SideMovies:['',''],Trending:null,slideUpClass:['movieFullTabContainer','movieFullTabContainerClosed'],isOpen:0,allowRender:true,currentMovieData:null};_this.functions={requestTrending:_this.callbackAfterRequest()};return _this;}_createClass(MoviesHome,[{key:\"componentWillMount\",value:function componentWillMount(){this.requestData();}},{key:\"componentDidMount\",value:function componentDidMount(){this.setState({allowRender:false});}},{key:\"requestData\",value:function(){var _requestData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _this2=this;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:console.log(JSON.parse(localStorage.getItem('username')).genres);_context.next=3;return axios.post(this.props.routes.moviehome,{genres:JSON.parse(localStorage.getItem('username')).genres}).then(function(res){var data=res.data;console.log(data);_this2.setState({FeaturedMovie:data.data[0].results[0],SideMovies:[data.data[0].results[1],data.data[0].results[2]],ForYou:data.data[2].results,Trending:data.data[1].results});});case 3:case\"end\":return _context.stop();}}},_callee,this);}));function requestData(){return _requestData.apply(this,arguments);}return requestData;}()},{key:\"getMovieInfo\",value:function(){var _getMovieInfo=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(movieID){var _this3=this;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return axios.get(\"\".concat(this.props.routes.movie,\"id=\").concat(movieID)).then(function(res){var statetoset=0;if(_this3.state.isOpen===0){statetoset=1;}_this3.setState({currentMovieData:res.data,isOpen:statetoset});return res;});case 2:case\"end\":return _context2.stop();}}},_callee2,this);}));function getMovieInfo(_x){return _getMovieInfo.apply(this,arguments);}return getMovieInfo;}()},{key:\"render\",value:function render(){var _this4=this;return/*#__PURE__*/_jsxs(\"div\",{id:\"moviesContainer\",children:[/*#__PURE__*/_jsxs(\"div\",{id:\"featuredContainer\",children:[/*#__PURE__*/_jsx(\"p\",{id:\"featuredTitle\",children:\"Featured\"}),/*#__PURE__*/_jsxs(\"div\",{id:\"featuredMoviesContainer\",children:[/*#__PURE__*/_jsxs(\"div\",{id:\"featuredMovie\",children:[/*#__PURE__*/_jsx(\"div\",{id:\"featuredMovieImageContainer\",children:this.state.FeaturedMovie?/*#__PURE__*/_jsx(\"img\",{id:\"featuredMovieImage\",alt:\"\",src:\"https://image.tmdb.org/t/p/w1280/\".concat(this.state.FeaturedMovie.backdrop_path)}):''}),/*#__PURE__*/_jsxs(\"div\",{id:\"featuredMovieDescriptionContainer\",children:[/*#__PURE__*/_jsxs(\"div\",{id:\"FeaturedContent\",children:[this.state.FeaturedMovie?/*#__PURE__*/_jsx(\"p\",{id:\"featuredMovieTitle\",children:this.state.FeaturedMovie.title}):'',/*#__PURE__*/_jsxs(\"div\",{id:\"feauturedMovieMetricsContainer\",children:[this.state.FeaturedMovie?/*#__PURE__*/_jsx(\"p\",{children:\"Science Fiction\"}):'',/*#__PURE__*/_jsx(\"div\",{id:\"featuredSeperator\"}),this.state.FeaturedMovie?/*#__PURE__*/_jsx(\"p\",{children:this.state.FeaturedMovie.release_date.substring(0,4)}):'',/*#__PURE__*/_jsx(\"div\",{id:\"featuredSeperator\"}),/*#__PURE__*/_jsx(\"p\",{children:\"2h 21m\"}),/*#__PURE__*/_jsx(\"div\",{id:\"featuredSeperator\"}),/*#__PURE__*/_jsx(\"img\",{id:\"featuredStarIcon\",alt:\"\",src:StarSVG}),this.state.FeaturedMovie?/*#__PURE__*/_jsx(\"p\",{children:this.state.FeaturedMovie.vote_average}):'']})]}),/*#__PURE__*/_jsxs(\"div\",{id:\"bottomDescription\",children:[/*#__PURE__*/_jsx(\"div\",{id:\"FeaturedMovieDescriptionContainer\",children:this.state.FeaturedMovie?/*#__PURE__*/_jsx(\"p\",{id:\"FeaturedMovieDescription\",children:this.state.FeaturedMovie.overview}):''}),/*#__PURE__*/_jsxs(\"div\",{id:\"featuredButtonsContainer\",children:[/*#__PURE__*/_jsx(\"div\",{id:\"featuredLikeButton\",children:/*#__PURE__*/_jsx(\"img\",{alt:\"\",src:HeartSVG})}),/*#__PURE__*/_jsxs(\"div\",{id:\"featuredWatchButton\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Watch\"}),/*#__PURE__*/_jsx(\"img\",{alt:\"\",src:PlaySVG})]})]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{id:\"sideFeaturedMovies\",children:[/*#__PURE__*/_jsxs(\"div\",{onClick:function onClick(){return _this4.handleMovieClick(_this4.state.SideMovies[0].id);},className:\"sideFeaturedMovie\",children:[this.state.SideMovies[0]?/*#__PURE__*/_jsx(\"img\",{className:\"sideFeaturedMovieImg\",alt:\"\",src:\"https://image.tmdb.org/t/p/w1280/\".concat(this.state.SideMovies[0].backdrop_path)}):'',/*#__PURE__*/_jsx(\"div\",{className:\"SideFeatureMovieOverlayContainer\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"SideFeatureMovieOverlayContainerContent\",children:[this.state.SideMovies[0]?/*#__PURE__*/_jsx(\"p\",{className:\"SideFeaturedMovieTitle\",children:this.state.SideMovies[0].title}):'',/*#__PURE__*/_jsxs(\"div\",{className:\"sideGenreContainer\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Adventure\"}),/*#__PURE__*/_jsx(\"img\",{alt:\"\",className:\"seperator-side\",src:CircleSVG}),/*#__PURE__*/_jsx(\"p\",{children:\"Crime\"})]}),/*#__PURE__*/_jsx(\"p\",{children:\"15\"})]})})]}),/*#__PURE__*/_jsxs(\"div\",{onClick:function onClick(){return _this4.handleMovieClick(_this4.state.SideMovies[1].id);},className:\"sideFeaturedMovie\",children:[this.state.SideMovies[1]?/*#__PURE__*/_jsx(\"img\",{className:\"sideFeaturedMovieImg\",alt:\"\",src:\"https://image.tmdb.org/t/p/w1280/\".concat(this.state.SideMovies[1].backdrop_path)}):'',/*#__PURE__*/_jsx(\"div\",{className:\"SideFeatureMovieOverlayContainer\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"SideFeatureMovieOverlayContainerContent\",children:[this.state.SideMovies[1]?/*#__PURE__*/_jsx(\"p\",{className:\"SideFeaturedMovieTitle\",children:this.state.SideMovies[1].title}):'',/*#__PURE__*/_jsxs(\"div\",{className:\"sideGenreContainer\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Adventure\"}),/*#__PURE__*/_jsx(\"img\",{alt:\"\",className:\"seperator-side\",src:CircleSVG}),/*#__PURE__*/_jsx(\"p\",{children:\"Crime\"})]}),/*#__PURE__*/_jsx(\"p\",{children:\"15\"})]})})]})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"rowsContainer\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"rowContent\",children:[this.state.Trending!=null?/*#__PURE__*/_jsx(MoviesRow,{SeeMoreHandler:this.OnUserSeeMore,clickHandler:this.handleMovieClick,name:'For You',index:0,movies:this.state.ForYou}):'',this.state.Trending!=null?/*#__PURE__*/_jsx(MoviesRow,{SeeMoreHandler:this.OnUserSeeMore,clickHandler:this.handleMovieClick,name:'Trending',index:1,movies:this.state.Trending}):'']})}),this.state.isOpen?/*#__PURE__*/_jsx(MovieSlideUp,{routes:this.props.routes,data:this.state.currentMovieData.data[0],favouritesHandler:this.handleFavouritesClick,clickHandler:this.handleMovieClick,slideupClass:this.state.slideUpClass[this.state.isOpen]}):'']});}}]);return MoviesHome;}(Component);export default MoviesHome;","map":{"version":3,"sources":["/home/william/Documents/Projects/TudorFlix/Client/src/Components/MoviesHome.js"],"names":["React","Component","axios","MoviesRow","MovieSlideUp","MoviesHome","props","callbackAfterRequest","state","Trending","handleMovieClick","movieID","getMovieInfo","isOpen","setState","OnUserSeeMore","name","HandleTabClick","data","FeaturedMovie","SideMovies","slideUpClass","allowRender","currentMovieData","functions","requestTrending","requestData","console","log","JSON","parse","localStorage","getItem","genres","post","routes","moviehome","then","res","results","ForYou","get","movie","statetoset","backdrop_path","title","release_date","substring","StarSVG","vote_average","overview","HeartSVG","PlaySVG","id","CircleSVG","handleFavouritesClick"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios';\n\nimport './MoviesHome.css';\n\nimport StarSVG from '../SVG/Star-Solid.svg';\nimport HeartSVG from '../SVG/Heart-Solid.svg';\nimport PlaySVG from '../SVG/Play-Solid.svg';\nimport CircleSVG from '../SVG/Circle-Solid.svg';\n\nimport MoviesRow from '../MoviesRow.js';\nimport MovieSlideUp from '../MovieFullTab';\n\nclass MoviesHome extends Component {\n    constructor(props){\n        super(props)\n        this.state = {\n            data: null,\n            FeaturedMovie: '',\n            SideMovies: ['', ''],\n            Trending: null,\n            slideUpClass: ['movieFullTabContainer', 'movieFullTabContainerClosed'],\n            isOpen: 0,\n            allowRender: true,\n            currentMovieData: null,\n        };\n\n        this.functions = {\n            requestTrending: this.callbackAfterRequest(),\n        }\n    }\n    componentWillMount() {\n        this.requestData();\n    }\n    \n    componentDidMount() {\n        this.setState({allowRender: false});\n    }\n\n    callbackAfterRequest = () => {\n        \n        return(this.state.Trending ? this.state.Trending : '')\n    }\n\n    async requestData(){\n        console.log(JSON.parse((localStorage.getItem('username'))).genres);\n        await axios.post(this.props.routes.moviehome, {genres: JSON.parse((localStorage.getItem('username'))).genres})\n            .then(res => {\n                const data = res.data;\n                console.log(data);\n                this.setState({\n                    FeaturedMovie: data.data[0].results[0],\n                    SideMovies: [data.data[0].results[1], data.data[0].results[2]],\n                    ForYou: data.data[2].results,\n                    Trending: data.data[1].results\n                })\n            })\n    }\n\n    async getMovieInfo(movieID){\n        await axios.get(`${this.props.routes.movie}id=${movieID}`)\n            .then(res => {\n                var statetoset = 0;\n                if(this.state.isOpen === 0){\n                    statetoset = 1;\n                }\n                this.setState({currentMovieData: res.data, isOpen: statetoset});\n                return res;\n            })\n    }\n\n    handleMovieClick = (movieID) => {\n        if(movieID !== 'none'){\n            this.getMovieInfo(movieID)\n        }else{\n            if(this.state.isOpen === 0){\n                this.setState({isOpen: 1});\n            }else{\n                this.setState({isOpen: 0});\n            }\n        }\n    }\n\n    OnUserSeeMore = (name) => {\n        name === 'For You' ? this.props.HandleTabClick(2) : this.props.HandleTabClick(1)\n    }\n    render(){\n        return(\n            <div id='moviesContainer'>\n                <div id='featuredContainer'>\n                    <p id='featuredTitle'>Featured</p>\n                    <div id='featuredMoviesContainer'>\n                        <div id='featuredMovie'>\n                            <div id='featuredMovieImageContainer'>\n                                {this.state.FeaturedMovie ? <img id='featuredMovieImage' alt='' src={`https://image.tmdb.org/t/p/w1280/${this.state.FeaturedMovie.backdrop_path}`}></img> : ''}\n                            </div>\n                            <div id='featuredMovieDescriptionContainer'>\n                                <div id='FeaturedContent'>\n                                    {this.state.FeaturedMovie ? <p id='featuredMovieTitle'>{this.state.FeaturedMovie.title}</p> : ''}\n                                    <div id='feauturedMovieMetricsContainer'>\n                                        {this.state.FeaturedMovie ? <p>Science Fiction</p> : ''}\n                                        <div id='featuredSeperator'></div>\n                                        {this.state.FeaturedMovie ? <p>{this.state.FeaturedMovie.release_date.substring(0,4)}</p> : ''}\n                                        <div id='featuredSeperator'></div>\n                                        <p>2h 21m</p>\n                                        <div id='featuredSeperator'></div>\n                                        <img id='featuredStarIcon' alt='' src={StarSVG}></img>\n                                        {this.state.FeaturedMovie ? <p>{this.state.FeaturedMovie.vote_average}</p> : ''}\n                                    </div>\n                                </div>\n                                <div id='bottomDescription'>\n                                    <div id='FeaturedMovieDescriptionContainer'>\n                                        {/* <p id='FeaturedMovieDescription'>The adventures of a group of explorers who make use of a newly discovered wormhole\n                                        to surpass the limitations on human space travel and conquer the vast distances\n                                        involved in an interstellar voyage\n                                        </p> */}\n                                        {this.state.FeaturedMovie ? <p id='FeaturedMovieDescription'>{this.state.FeaturedMovie.overview}</p> : ''}\n                                    </div>\n                                    <div id='featuredButtonsContainer'>\n                                        <div id='featuredLikeButton'>\n                                            <img alt='' src={HeartSVG}></img>\n                                        </div>\n                                        <div id='featuredWatchButton'>\n                                            <p>Watch</p>\n                                            <img alt='' src={PlaySVG}></img>\n                                        </div>\n                                    </div>\n\n                                </div>\n                            </div>\n                        </div>\n                        <div id='sideFeaturedMovies'>\n                            <div onClick={() => this.handleMovieClick(this.state.SideMovies[0].id)} className='sideFeaturedMovie'>\n                                {this.state.SideMovies[0] ? <img className='sideFeaturedMovieImg' alt='' src={`https://image.tmdb.org/t/p/w1280/${this.state.SideMovies[0].backdrop_path}`}></img> : ''} \n                                <div className='SideFeatureMovieOverlayContainer'>\n                                    <div className='SideFeatureMovieOverlayContainerContent'>\n                                        {this.state.SideMovies[0] ? <p className='SideFeaturedMovieTitle'>{this.state.SideMovies[0].title}</p> : ''}\n                                        <div className='sideGenreContainer'>\n                                            <p>Adventure</p>\n                                            <img alt='' className='seperator-side' src={CircleSVG}></img>\n                                            <p>Crime</p>\n                                        </div>\n                                        <p>15</p>\n                                    </div>\n                                </div>\n                            </div>\n                            <div onClick={() => this.handleMovieClick(this.state.SideMovies[1].id)} className='sideFeaturedMovie'>\n                                {this.state.SideMovies[1] ? <img className='sideFeaturedMovieImg' alt='' src={`https://image.tmdb.org/t/p/w1280/${this.state.SideMovies[1].backdrop_path}`}></img> : ''}\n                                <div className='SideFeatureMovieOverlayContainer'>\n                                    <div className='SideFeatureMovieOverlayContainerContent'>\n                                        {this.state.SideMovies[1] ? <p className='SideFeaturedMovieTitle'>{this.state.SideMovies[1].title}</p> : ''}\n                                        <div className='sideGenreContainer'>\n                                            <p>Adventure</p>\n                                            <img alt='' className='seperator-side' src={CircleSVG}></img>\n                                            <p>Crime</p>\n                                        </div>\n                                        <p>15</p>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div className='rowsContainer'>\n                    <div className='rowContent'>\n                        {this.state.Trending != null ? <MoviesRow SeeMoreHandler={this.OnUserSeeMore} clickHandler={this.handleMovieClick} name={'For You'} index={0} movies={this.state.ForYou}/> : ''}\n                        {this.state.Trending != null ? <MoviesRow SeeMoreHandler={this.OnUserSeeMore} clickHandler={this.handleMovieClick} name={'Trending'} index={1} movies={this.state.Trending}/> : ''}\n                    </div>\n                </div>\n                {this.state.isOpen ? <MovieSlideUp routes={this.props.routes} data={this.state.currentMovieData.data[0]} favouritesHandler={this.handleFavouritesClick} clickHandler={this.handleMovieClick} slideupClass={this.state.slideUpClass[this.state.isOpen]}/> : ''}\n                \n            </div>\n        )\n    }\n}\n\nexport default MoviesHome;"]},"metadata":{},"sourceType":"module"}