{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\willi\\\\OneDrive\\\\Documents\\\\Projects\\\\tudorflix\\\\Client\\\\src\\\\Components\\\\Popular.js\";\nimport axios from 'axios';\nimport React, { Component } from 'react';\nimport './Popular.css';\nimport MoviesRowFull from './MoviesRowFull';\nimport MovieSlideUp from '../MovieFullTab';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Popular extends Component {\n  constructor(props) {\n    super(props);\n\n    this.userLoadMore = () => {\n      axios.post(this.props.routes.popular, {\n        pageIndex: this.state.pageIndex\n      }).then(res => {\n        var currentMovies = this.state.PopularMovies;\n\n        for (var j = 0; j < res.data.data.length; j++) {\n          for (var i = 0; i < res.data.data[j].results.length; i++) {\n            currentMovies.push(res.data.data[j].results[i]);\n          }\n        }\n\n        this.setState({\n          PopularMovies: currentMovies,\n          pageIndex: this.state.pageIndex + 3\n        });\n        console.log(this.state.PopularMovies);\n      });\n    };\n\n    this.handleMovieClick = movieID => {\n      console.log(movieID);\n\n      if (movieID !== 'none') {\n        this.getMovieInfo(movieID);\n      } else {\n        if (this.state.isOpen === 0) {\n          this.setState({\n            isOpen: 1\n          }); // if by some magic the user has done this\n        } else {\n          this.setState({\n            isOpen: 0\n          });\n          this.forceUpdate();\n        }\n      }\n    };\n\n    this.state = {\n      PopularMovies: [],\n      pageIndex: 2,\n      slideUpClass: ['movieFullTabContainer', 'movieFullTabContainerClosed'],\n      isOpen: 0\n    };\n  }\n\n  componentDidMount() {\n    this.requestData();\n  }\n\n  async getMovieInfo(movieID) {\n    await axios.get(`${this.props.routes.movie}id=${movieID}`).then(res => {\n      var statetoset = 0;\n\n      if (this.state.isOpen === 0) {\n        statetoset = 1;\n      }\n\n      this.setState({\n        currentMovieData: res.data,\n        isOpen: statetoset\n      });\n      return res;\n    });\n  }\n\n  async requestData() {\n    await axios.post(this.props.routes.popular, {\n      pageIndex: 1\n    }).then(res => {\n      this.setState({\n        PopularMovies: res.data.data[0].results\n      });\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"PopularTab\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"popularTitle\",\n        children: \"Popular\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 17\n      }, this), this.state.PopularMovies.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n        id: \"nullMoviesTitle\",\n        children: \"Loading...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 58\n      }, this) : /*#__PURE__*/_jsxDEV(MoviesRowFull, {\n        clickHandler: this.handleMovieClick,\n        favourites: this.state.PopularMovies\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 99\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        onClick: () => this.userLoadMore(),\n        id: \"viewMoreButton\",\n        children: \"View More\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 17\n      }, this), this.state.isOpen ? /*#__PURE__*/_jsxDEV(MovieSlideUp, {\n        routes: this.props.routes,\n        data: this.state.currentMovieData.data[0],\n        clickHandler: this.handleMovieClick,\n        slideupClass: this.state.slideUpClass[this.state.isOpen]\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 38\n      }, this) : '']\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default Popular;","map":{"version":3,"sources":["C:/Users/willi/OneDrive/Documents/Projects/tudorflix/Client/src/Components/Popular.js"],"names":["axios","React","Component","MoviesRowFull","MovieSlideUp","Popular","constructor","props","userLoadMore","post","routes","popular","pageIndex","state","then","res","currentMovies","PopularMovies","j","data","length","i","results","push","setState","console","log","handleMovieClick","movieID","getMovieInfo","isOpen","forceUpdate","slideUpClass","componentDidMount","requestData","get","movie","statetoset","currentMovieData","render"],"mappings":"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","sourcesContent":["import axios from 'axios';\r\nimport React, {Component} from 'react';\r\n\r\nimport './Popular.css';\r\n\r\nimport MoviesRowFull from './MoviesRowFull';\r\nimport MovieSlideUp from '../MovieFullTab';\r\n\r\nclass Popular extends Component{\r\n    constructor(props){\r\n        super(props);\r\n\r\n        this.state = {\r\n            PopularMovies: [],\r\n            pageIndex: 2,\r\n            slideUpClass: ['movieFullTabContainer', 'movieFullTabContainerClosed'],\r\n            isOpen: 0,\r\n        }\r\n    }\r\n    \r\n    componentDidMount(){\r\n        this.requestData();\r\n    }\r\n\r\n    userLoadMore = () => {\r\n        axios.post(this.props.routes.popular, {pageIndex: this.state.pageIndex})\r\n        .then(res => {\r\n            var currentMovies = this.state.PopularMovies;\r\n            for(var j = 0; j < res.data.data.length; j++){\r\n                for(var i = 0; i < res.data.data[j].results.length; i++){\r\n                    currentMovies.push(res.data.data[j].results[i])\r\n                }\r\n            }\r\n            \r\n            this.setState({PopularMovies: currentMovies, pageIndex: this.state.pageIndex + 3});\r\n            console.log(this.state.PopularMovies);\r\n        })\r\n    }\r\n\r\n    async getMovieInfo(movieID){\r\n        await axios.get(`${this.props.routes.movie}id=${movieID}`)\r\n            .then(res => {\r\n                var statetoset = 0;\r\n                if(this.state.isOpen === 0){\r\n                    statetoset = 1;\r\n                }\r\n                this.setState({currentMovieData: res.data, isOpen: statetoset});\r\n                return res;\r\n            })\r\n    }\r\n\r\n    handleMovieClick = (movieID) => {\r\n        console.log(movieID);\r\n        if(movieID !== 'none'){\r\n            this.getMovieInfo(movieID)\r\n        }else{\r\n            if(this.state.isOpen === 0){\r\n                this.setState({isOpen: 1}); // if by some magic the user has done this\r\n            }else{\r\n                this.setState({isOpen: 0});\r\n                this.forceUpdate();\r\n            }\r\n        }\r\n    }\r\n\r\n    async requestData(){\r\n        await axios.post(this.props.routes.popular, {pageIndex: 1})\r\n            .then(res => {\r\n                this.setState({PopularMovies: res.data.data[0].results});\r\n            })\r\n    }\r\n    render(){\r\n        return(\r\n            <div id='PopularTab'>\r\n                <p className='popularTitle'>Popular</p>\r\n                {this.state.PopularMovies.length === 0 ? <p id='nullMoviesTitle'>Loading...</p> : <MoviesRowFull clickHandler={this.handleMovieClick} favourites={this.state.PopularMovies}/>}\r\n                <p onClick={() => this.userLoadMore()} id='viewMoreButton'>View More</p>\r\n                {this.state.isOpen ? <MovieSlideUp routes={this.props.routes} data={this.state.currentMovieData.data[0]} clickHandler={this.handleMovieClick} slideupClass={this.state.slideUpClass[this.state.isOpen]}/> : ''}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Popular;"]},"metadata":{},"sourceType":"module"}